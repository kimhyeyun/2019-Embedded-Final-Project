GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 1


   1               		.file	"ucos_ii.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	OSIntEnter
  10               		.type	OSIntEnter, @function
  11               	OSIntEnter:
  12               	/* prologue: function */
  13               	/* frame size = 0 */
  14 0000 8091 0000 		lds r24,OSRunning
  15 0004 8130      		cpi r24,lo8(1)
  16 0006 01F0      		breq .L5
  17               	.L3:
  18 0008 0895      		ret
  19               	.L5:
  20 000a 8091 0000 		lds r24,OSIntNesting
  21 000e 8F3F      		cpi r24,lo8(-1)
  22 0010 01F0      		breq .L3
  23 0012 8F5F      		subi r24,lo8(-(1))
  24 0014 8093 0000 		sts OSIntNesting,r24
  25 0018 0895      		ret
  26               		.size	OSIntEnter, .-OSIntEnter
  27               	.global	OSSchedLock
  28               		.type	OSSchedLock, @function
  29               	OSSchedLock:
  30               	/* prologue: function */
  31               	/* frame size = 0 */
  32 001a 8091 0000 		lds r24,OSRunning
  33 001e 8130      		cpi r24,lo8(1)
  34 0020 01F0      		breq .L10
  35 0022 0895      		ret
  36               	.L10:
  37               	/* #APP */
  38               	 ;  222 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
  39 0024 F894      		cli
  40               	 ;  0 "" 2
  41               	/* #NOAPP */
  42 0026 8091 0000 		lds r24,OSLockNesting
  43 002a 8F3F      		cpi r24,lo8(-1)
  44 002c 01F0      		breq .L8
  45 002e 8F5F      		subi r24,lo8(-(1))
  46 0030 8093 0000 		sts OSLockNesting,r24
  47               	.L8:
  48               	/* #APP */
  49               	 ;  226 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
  50 0034 7894      		sei
  51               	 ;  0 "" 2
  52               	/* #NOAPP */
  53 0036 0895      		ret
  54               		.size	OSSchedLock, .-OSSchedLock
  55               	.global	OSVersion
  56               		.type	OSVersion, @function
  57               	OSVersion:
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 2


  58               	/* prologue: function */
  59               	/* frame size = 0 */
  60 0038 8CEF      		ldi r24,lo8(252)
  61 003a 90E0      		ldi r25,hi8(252)
  62               	/* epilogue start */
  63 003c 0895      		ret
  64               		.size	OSVersion, .-OSVersion
  65               	.global	OS_EventTaskRdy
  66               		.type	OS_EventTaskRdy, @function
  67               	OS_EventTaskRdy:
  68 003e FF92      		push r15
  69 0040 0F93      		push r16
  70 0042 1F93      		push r17
  71 0044 CF93      		push r28
  72 0046 DF93      		push r29
  73               	/* prologue: function */
  74               	/* frame size = 0 */
  75 0048 EC01      		movw r28,r24
  76 004a 8B01      		movw r16,r22
  77 004c F42E      		mov r15,r20
  78 004e 3981      		ldd r19,Y+1
  79 0050 E32F      		mov r30,r19
  80 0052 F0E0      		ldi r31,lo8(0)
  81 0054 E050      		subi r30,lo8(-(OSUnMapTbl))
  82 0056 F040      		sbci r31,hi8(-(OSUnMapTbl))
  83 0058 2081      		ld r18,Z
  84 005a 422F      		mov r20,r18
  85 005c 50E0      		ldi r21,lo8(0)
  86 005e FA01      		movw r30,r20
  87 0060 E050      		subi r30,lo8(-(OSMapTbl))
  88 0062 F040      		sbci r31,hi8(-(OSMapTbl))
  89 0064 7081      		ld r23,Z
  90 0066 DC01      		movw r26,r24
  91 0068 A40F      		add r26,r20
  92 006a B51F      		adc r27,r21
  93 006c 1696      		adiw r26,6
  94 006e 9C91      		ld r25,X
  95 0070 1697      		sbiw r26,6
  96 0072 E92F      		mov r30,r25
  97 0074 F0E0      		ldi r31,lo8(0)
  98 0076 E050      		subi r30,lo8(-(OSUnMapTbl))
  99 0078 F040      		sbci r31,hi8(-(OSUnMapTbl))
 100 007a 8081      		ld r24,Z
 101 007c E82F      		mov r30,r24
 102 007e F0E0      		ldi r31,lo8(0)
 103 0080 E050      		subi r30,lo8(-(OSMapTbl))
 104 0082 F040      		sbci r31,hi8(-(OSMapTbl))
 105 0084 6081      		ld r22,Z
 106 0086 220F      		lsl r18
 107 0088 220F      		lsl r18
 108 008a 220F      		lsl r18
 109 008c 280F      		add r18,r24
 110 008e 862F      		mov r24,r22
 111 0090 8095      		com r24
 112 0092 8923      		and r24,r25
 113 0094 1696      		adiw r26,6
 114 0096 8C93      		st X,r24
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 3


 115 0098 8823      		tst r24
 116 009a 01F4      		brne .L14
 117 009c 872F      		mov r24,r23
 118 009e 8095      		com r24
 119 00a0 3823      		and r19,r24
 120 00a2 3983      		std Y+1,r19
 121               	.L14:
 122 00a4 E22F      		mov r30,r18
 123 00a6 F0E0      		ldi r31,lo8(0)
 124 00a8 EE0F      		lsl r30
 125 00aa FF1F      		rol r31
 126 00ac E050      		subi r30,lo8(-(OSTCBPrioTbl))
 127 00ae F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 128 00b0 0190      		ld __tmp_reg__,Z+
 129 00b2 F081      		ld r31,Z
 130 00b4 E02D      		mov r30,__tmp_reg__
 131 00b6 1486      		std Z+12,__zero_reg__
 132 00b8 1386      		std Z+11,__zero_reg__
 133 00ba 1782      		std Z+7,__zero_reg__
 134 00bc 1682      		std Z+6,__zero_reg__
 135 00be 1187      		std Z+9,r17
 136 00c0 0087      		std Z+8,r16
 137 00c2 8F2D      		mov r24,r15
 138 00c4 8095      		com r24
 139 00c6 9585      		ldd r25,Z+13
 140 00c8 8923      		and r24,r25
 141 00ca 8587      		std Z+13,r24
 142 00cc 8823      		tst r24
 143 00ce 01F4      		brne .L15
 144 00d0 8091 0000 		lds r24,OSRdyGrp
 145 00d4 872B      		or r24,r23
 146 00d6 8093 0000 		sts OSRdyGrp,r24
 147 00da FA01      		movw r30,r20
 148 00dc E050      		subi r30,lo8(-(OSRdyTbl))
 149 00de F040      		sbci r31,hi8(-(OSRdyTbl))
 150 00e0 8081      		ld r24,Z
 151 00e2 682B      		or r22,r24
 152 00e4 6083      		st Z,r22
 153               	.L15:
 154 00e6 822F      		mov r24,r18
 155               	/* epilogue start */
 156 00e8 DF91      		pop r29
 157 00ea CF91      		pop r28
 158 00ec 1F91      		pop r17
 159 00ee 0F91      		pop r16
 160 00f0 FF90      		pop r15
 161 00f2 0895      		ret
 162               		.size	OS_EventTaskRdy, .-OS_EventTaskRdy
 163               	.global	OS_EventTaskWait
 164               		.type	OS_EventTaskWait, @function
 165               	OS_EventTaskWait:
 166 00f4 CF93      		push r28
 167 00f6 DF93      		push r29
 168               	/* prologue: function */
 169               	/* frame size = 0 */
 170 00f8 EC01      		movw r28,r24
 171 00fa A091 0000 		lds r26,OSTCBCur
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 4


 172 00fe B091 0000 		lds r27,(OSTCBCur)+1
 173 0102 1796      		adiw r26,6+1
 174 0104 9C93      		st X,r25
 175 0106 8E93      		st -X,r24
 176 0108 1697      		sbiw r26,6
 177 010a 5096      		adiw r26,16
 178 010c 8C91      		ld r24,X
 179 010e 5097      		sbiw r26,16
 180 0110 482F      		mov r20,r24
 181 0112 50E0      		ldi r21,lo8(0)
 182 0114 5196      		adiw r26,17
 183 0116 3C91      		ld r19,X
 184 0118 5197      		sbiw r26,17
 185 011a FA01      		movw r30,r20
 186 011c E050      		subi r30,lo8(-(OSRdyTbl))
 187 011e F040      		sbci r31,hi8(-(OSRdyTbl))
 188 0120 832F      		mov r24,r19
 189 0122 8095      		com r24
 190 0124 9081      		ld r25,Z
 191 0126 8923      		and r24,r25
 192 0128 8083      		st Z,r24
 193 012a 8823      		tst r24
 194 012c 01F4      		brne .L21
 195 012e 5296      		adiw r26,18
 196 0130 2C91      		ld r18,X
 197 0132 922F      		mov r25,r18
 198 0134 9095      		com r25
 199 0136 8091 0000 		lds r24,OSRdyGrp
 200 013a 8923      		and r24,r25
 201 013c 8093 0000 		sts OSRdyGrp,r24
 202               	.L19:
 203 0140 FE01      		movw r30,r28
 204 0142 E40F      		add r30,r20
 205 0144 F51F      		adc r31,r21
 206 0146 8681      		ldd r24,Z+6
 207 0148 832B      		or r24,r19
 208 014a 8683      		std Z+6,r24
 209 014c 8981      		ldd r24,Y+1
 210 014e 822B      		or r24,r18
 211 0150 8983      		std Y+1,r24
 212               	/* epilogue start */
 213 0152 DF91      		pop r29
 214 0154 CF91      		pop r28
 215 0156 0895      		ret
 216               	.L21:
 217 0158 5296      		adiw r26,18
 218 015a 2C91      		ld r18,X
 219 015c 00C0      		rjmp .L19
 220               		.size	OS_EventTaskWait, .-OS_EventTaskWait
 221               	.global	OS_EventTO
 222               		.type	OS_EventTO, @function
 223               	OS_EventTO:
 224 015e CF93      		push r28
 225 0160 DF93      		push r29
 226               	/* prologue: function */
 227               	/* frame size = 0 */
 228 0162 EC01      		movw r28,r24
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 5


 229 0164 A091 0000 		lds r26,OSTCBCur
 230 0168 B091 0000 		lds r27,(OSTCBCur)+1
 231 016c 5096      		adiw r26,16
 232 016e 8C91      		ld r24,X
 233 0170 5097      		sbiw r26,16
 234 0172 FE01      		movw r30,r28
 235 0174 E80F      		add r30,r24
 236 0176 F11D      		adc r31,__zero_reg__
 237 0178 5196      		adiw r26,17
 238 017a 8C91      		ld r24,X
 239 017c 5197      		sbiw r26,17
 240 017e 8095      		com r24
 241 0180 9681      		ldd r25,Z+6
 242 0182 8923      		and r24,r25
 243 0184 8683      		std Z+6,r24
 244 0186 8823      		tst r24
 245 0188 01F4      		brne .L23
 246 018a 5296      		adiw r26,18
 247 018c 9C91      		ld r25,X
 248 018e 5297      		sbiw r26,18
 249 0190 9095      		com r25
 250 0192 8981      		ldd r24,Y+1
 251 0194 8923      		and r24,r25
 252 0196 8983      		std Y+1,r24
 253               	.L23:
 254 0198 1D96      		adiw r26,13
 255 019a 1C92      		st X,__zero_reg__
 256 019c 1D97      		sbiw r26,13
 257 019e 1796      		adiw r26,6+1
 258 01a0 1C92      		st X,__zero_reg__
 259 01a2 1E92      		st -X,__zero_reg__
 260 01a4 1697      		sbiw r26,6
 261               	/* epilogue start */
 262 01a6 DF91      		pop r29
 263 01a8 CF91      		pop r28
 264 01aa 0895      		ret
 265               		.size	OS_EventTO, .-OS_EventTO
 266               	.global	OS_EventWaitListInit
 267               		.type	OS_EventWaitListInit, @function
 268               	OS_EventWaitListInit:
 269               	/* prologue: function */
 270               	/* frame size = 0 */
 271 01ac FC01      		movw r30,r24
 272 01ae 1182      		std Z+1,__zero_reg__
 273 01b0 1682      		std Z+6,__zero_reg__
 274 01b2 1782      		std Z+7,__zero_reg__
 275               	/* epilogue start */
 276 01b4 0895      		ret
 277               		.size	OS_EventWaitListInit, .-OS_EventWaitListInit
 278               	.global	OSFlagCreate
 279               		.type	OSFlagCreate, @function
 280               	OSFlagCreate:
 281               	/* prologue: function */
 282               	/* frame size = 0 */
 283 01b6 282F      		mov r18,r24
 284 01b8 DB01      		movw r26,r22
 285 01ba 8091 0000 		lds r24,OSIntNesting
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 6


 286 01be 8823      		tst r24
 287 01c0 01F4      		brne .L32
 288               	/* #APP */
 289               	 ;  205 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 290 01c2 F894      		cli
 291               	 ;  0 "" 2
 292               	/* #NOAPP */
 293 01c4 E091 0000 		lds r30,OSFlagFreeList
 294 01c8 F091 0000 		lds r31,(OSFlagFreeList)+1
 295 01cc 3097      		sbiw r30,0
 296 01ce 01F0      		breq .L30
 297 01d0 8181      		ldd r24,Z+1
 298 01d2 9281      		ldd r25,Z+2
 299 01d4 9093 0000 		sts (OSFlagFreeList)+1,r25
 300 01d8 8093 0000 		sts OSFlagFreeList,r24
 301 01dc 85E0      		ldi r24,lo8(5)
 302 01de 8083      		st Z,r24
 303 01e0 2383      		std Z+3,r18
 304 01e2 1282      		std Z+2,__zero_reg__
 305 01e4 1182      		std Z+1,__zero_reg__
 306               	/* #APP */
 307               	 ;  213 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 308 01e6 7894      		sei
 309               	 ;  0 "" 2
 310               	/* #NOAPP */
 311 01e8 1C92      		st X,__zero_reg__
 312               	.L29:
 313 01ea CF01      		movw r24,r30
 314               	/* epilogue start */
 315 01ec 0895      		ret
 316               	.L30:
 317               	/* #APP */
 318               	 ;  216 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 319 01ee 7894      		sei
 320               	 ;  0 "" 2
 321               	/* #NOAPP */
 322 01f0 8AE9      		ldi r24,lo8(-102)
 323 01f2 8C93      		st X,r24
 324 01f4 CF01      		movw r24,r30
 325 01f6 0895      		ret
 326               	.L32:
 327 01f8 8DE8      		ldi r24,lo8(-115)
 328 01fa 8C93      		st X,r24
 329 01fc E0E0      		ldi r30,lo8(0)
 330 01fe F0E0      		ldi r31,hi8(0)
 331 0200 00C0      		rjmp .L29
 332               		.size	OSFlagCreate, .-OSFlagCreate
 333               		.type	OS_FlagBlock, @function
 334               	OS_FlagBlock:
 335 0202 EF92      		push r14
 336 0204 FF92      		push r15
 337 0206 0F93      		push r16
 338 0208 1F93      		push r17
 339 020a CF93      		push r28
 340 020c DF93      		push r29
 341               	/* prologue: function */
 342               	/* frame size = 0 */
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 7


 343 020e 7C01      		movw r14,r24
 344 0210 FB01      		movw r30,r22
 345 0212 A091 0000 		lds r26,OSTCBCur
 346 0216 B091 0000 		lds r27,(OSTCBCur)+1
 347 021a 1D96      		adiw r26,13
 348 021c 8C91      		ld r24,X
 349 021e 1D97      		sbiw r26,13
 350 0220 8062      		ori r24,lo8(32)
 351 0222 1D96      		adiw r26,13
 352 0224 8C93      		st X,r24
 353 0226 1D97      		sbiw r26,13
 354 0228 1C96      		adiw r26,11+1
 355 022a 1C93      		st X,r17
 356 022c 0E93      		st -X,r16
 357 022e 1B97      		sbiw r26,11
 358 0230 4087      		std Z+8,r20
 359 0232 2187      		std Z+9,r18
 360 0234 B583      		std Z+5,r27
 361 0236 A483      		std Z+4,r26
 362 0238 E701      		movw r28,r14
 363 023a 8981      		ldd r24,Y+1
 364 023c 9A81      		ldd r25,Y+2
 365 023e 9183      		std Z+1,r25
 366 0240 8083      		st Z,r24
 367 0242 1382      		std Z+3,__zero_reg__
 368 0244 1282      		std Z+2,__zero_reg__
 369 0246 F782      		std Z+7,r15
 370 0248 E682      		std Z+6,r14
 371 024a 8981      		ldd r24,Y+1
 372 024c 9A81      		ldd r25,Y+2
 373 024e 0097      		sbiw r24,0
 374 0250 01F0      		breq .L34
 375 0252 EC01      		movw r28,r24
 376 0254 7B83      		std Y+3,r23
 377 0256 6A83      		std Y+2,r22
 378               	.L34:
 379 0258 E701      		movw r28,r14
 380 025a FA83      		std Y+2,r31
 381 025c E983      		std Y+1,r30
 382 025e 5096      		adiw r26,16
 383 0260 EC91      		ld r30,X
 384 0262 5097      		sbiw r26,16
 385 0264 F0E0      		ldi r31,lo8(0)
 386 0266 E050      		subi r30,lo8(-(OSRdyTbl))
 387 0268 F040      		sbci r31,hi8(-(OSRdyTbl))
 388 026a 5196      		adiw r26,17
 389 026c 8C91      		ld r24,X
 390 026e 5197      		sbiw r26,17
 391 0270 8095      		com r24
 392 0272 9081      		ld r25,Z
 393 0274 8923      		and r24,r25
 394 0276 8083      		st Z,r24
 395 0278 8823      		tst r24
 396 027a 01F4      		brne .L36
 397 027c 5296      		adiw r26,18
 398 027e 9C91      		ld r25,X
 399 0280 9095      		com r25
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 8


 400 0282 8091 0000 		lds r24,OSRdyGrp
 401 0286 8923      		and r24,r25
 402 0288 8093 0000 		sts OSRdyGrp,r24
 403               	.L36:
 404               	/* epilogue start */
 405 028c DF91      		pop r29
 406 028e CF91      		pop r28
 407 0290 1F91      		pop r17
 408 0292 0F91      		pop r16
 409 0294 FF90      		pop r15
 410 0296 EF90      		pop r14
 411 0298 0895      		ret
 412               		.size	OS_FlagBlock, .-OS_FlagBlock
 413               	.global	OS_FlagInit
 414               		.type	OS_FlagInit, @function
 415               	OS_FlagInit:
 416               	/* prologue: function */
 417               	/* frame size = 0 */
 418 029a 20E0      		ldi r18,lo8(OSFlagTbl)
 419 029c 30E0      		ldi r19,hi8(OSFlagTbl)
 420 029e F901      		movw r30,r18
 421               	.L38:
 422 02a0 CF01      		movw r24,r30
 423 02a2 0496      		adiw r24,4
 424 02a4 1082      		st Z,__zero_reg__
 425 02a6 9283      		std Z+2,r25
 426 02a8 8183      		std Z+1,r24
 427 02aa FC01      		movw r30,r24
 428 02ac 80E0      		ldi r24,hi8(OSFlagTbl+16)
 429 02ae E030      		cpi r30,lo8(OSFlagTbl+16)
 430 02b0 F807      		cpc r31,r24
 431 02b2 01F4      		brne .L38
 432 02b4 1282      		std Z+2,__zero_reg__
 433 02b6 1182      		std Z+1,__zero_reg__
 434 02b8 3093 0000 		sts (OSFlagFreeList)+1,r19
 435 02bc 2093 0000 		sts OSFlagFreeList,r18
 436               	/* epilogue start */
 437 02c0 0895      		ret
 438               		.size	OS_FlagInit, .-OS_FlagInit
 439               	.global	OS_FlagUnlink
 440               		.type	OS_FlagUnlink, @function
 441               	OS_FlagUnlink:
 442 02c2 CF93      		push r28
 443 02c4 DF93      		push r29
 444               	/* prologue: function */
 445               	/* frame size = 0 */
 446 02c6 FC01      		movw r30,r24
 447 02c8 A281      		ldd r26,Z+2
 448 02ca B381      		ldd r27,Z+3
 449 02cc C081      		ld r28,Z
 450 02ce D181      		ldd r29,Z+1
 451 02d0 1097      		sbiw r26,0
 452 02d2 01F0      		breq .L45
 453 02d4 1196      		adiw r26,1
 454 02d6 DC93      		st X,r29
 455 02d8 CE93      		st -X,r28
 456 02da 2097      		sbiw r28,0
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 9


 457 02dc 01F0      		breq .L44
 458 02de BB83      		std Y+3,r27
 459 02e0 AA83      		std Y+2,r26
 460               	.L44:
 461               	/* epilogue start */
 462 02e2 DF91      		pop r29
 463 02e4 CF91      		pop r28
 464 02e6 0895      		ret
 465               	.L45:
 466 02e8 0680      		ldd __tmp_reg__,Z+6
 467 02ea F781      		ldd r31,Z+7
 468 02ec E02D      		mov r30,__tmp_reg__
 469 02ee D283      		std Z+2,r29
 470 02f0 C183      		std Z+1,r28
 471 02f2 2097      		sbiw r28,0
 472 02f4 01F0      		breq .L44
 473 02f6 1B82      		std Y+3,__zero_reg__
 474 02f8 1A82      		std Y+2,__zero_reg__
 475 02fa DF91      		pop r29
 476 02fc CF91      		pop r28
 477 02fe 0895      		ret
 478               		.size	OS_FlagUnlink, .-OS_FlagUnlink
 479               		.type	OS_FlagTaskRdy, @function
 480               	OS_FlagTaskRdy:
 481 0300 1F93      		push r17
 482 0302 CF93      		push r28
 483 0304 DF93      		push r29
 484               	/* prologue: function */
 485               	/* frame size = 0 */
 486 0306 EC01      		movw r28,r24
 487 0308 AC81      		ldd r26,Y+4
 488 030a BD81      		ldd r27,Y+5
 489 030c 1C96      		adiw r26,11+1
 490 030e 1C92      		st X,__zero_reg__
 491 0310 1E92      		st -X,__zero_reg__
 492 0312 1B97      		sbiw r26,11
 493 0314 1A96      		adiw r26,10
 494 0316 6C93      		st X,r22
 495 0318 1A97      		sbiw r26,10
 496 031a 1D96      		adiw r26,13
 497 031c 8C91      		ld r24,X
 498 031e 1D97      		sbiw r26,13
 499 0320 8F7D      		andi r24,lo8(-33)
 500 0322 1D96      		adiw r26,13
 501 0324 8C93      		st X,r24
 502 0326 1D97      		sbiw r26,13
 503 0328 8823      		tst r24
 504 032a 01F4      		brne .L50
 505 032c 8091 0000 		lds r24,OSRdyGrp
 506 0330 5296      		adiw r26,18
 507 0332 9C91      		ld r25,X
 508 0334 5297      		sbiw r26,18
 509 0336 892B      		or r24,r25
 510 0338 8093 0000 		sts OSRdyGrp,r24
 511 033c 5096      		adiw r26,16
 512 033e EC91      		ld r30,X
 513 0340 5097      		sbiw r26,16
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 10


 514 0342 F0E0      		ldi r31,lo8(0)
 515 0344 E050      		subi r30,lo8(-(OSRdyTbl))
 516 0346 F040      		sbci r31,hi8(-(OSRdyTbl))
 517 0348 8081      		ld r24,Z
 518 034a 5196      		adiw r26,17
 519 034c 9C91      		ld r25,X
 520 034e 892B      		or r24,r25
 521 0350 8083      		st Z,r24
 522 0352 11E0      		ldi r17,lo8(1)
 523 0354 CE01      		movw r24,r28
 524 0356 0E94 0000 		call OS_FlagUnlink
 525 035a 812F      		mov r24,r17
 526               	/* epilogue start */
 527 035c DF91      		pop r29
 528 035e CF91      		pop r28
 529 0360 1F91      		pop r17
 530 0362 0895      		ret
 531               	.L50:
 532 0364 10E0      		ldi r17,lo8(0)
 533 0366 CE01      		movw r24,r28
 534 0368 0E94 0000 		call OS_FlagUnlink
 535 036c 812F      		mov r24,r17
 536 036e DF91      		pop r29
 537 0370 CF91      		pop r28
 538 0372 1F91      		pop r17
 539 0374 0895      		ret
 540               		.size	OS_FlagTaskRdy, .-OS_FlagTaskRdy
 541               	.global	OSMboxCreate
 542               		.type	OSMboxCreate, @function
 543               	OSMboxCreate:
 544               	/* prologue: function */
 545               	/* frame size = 0 */
 546 0376 9C01      		movw r18,r24
 547 0378 8091 0000 		lds r24,OSIntNesting
 548 037c 8823      		tst r24
 549 037e 01F4      		brne .L56
 550               	/* #APP */
 551               	 ;  89 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 552 0380 F894      		cli
 553               	 ;  0 "" 2
 554               	/* #NOAPP */
 555 0382 E091 0000 		lds r30,OSEventFreeList
 556 0386 F091 0000 		lds r31,(OSEventFreeList)+1
 557 038a 3097      		sbiw r30,0
 558 038c 01F0      		breq .L54
 559 038e 8481      		ldd r24,Z+4
 560 0390 9581      		ldd r25,Z+5
 561 0392 9093 0000 		sts (OSEventFreeList)+1,r25
 562 0396 8093 0000 		sts OSEventFreeList,r24
 563               	.L54:
 564               	/* #APP */
 565               	 ;  94 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 566 039a 7894      		sei
 567               	 ;  0 "" 2
 568               	/* #NOAPP */
 569 039c 3097      		sbiw r30,0
 570 039e 01F0      		breq .L53
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 11


 571 03a0 81E0      		ldi r24,lo8(1)
 572 03a2 8083      		st Z,r24
 573 03a4 1382      		std Z+3,__zero_reg__
 574 03a6 1282      		std Z+2,__zero_reg__
 575 03a8 3583      		std Z+5,r19
 576 03aa 2483      		std Z+4,r18
 577 03ac 1182      		std Z+1,__zero_reg__
 578 03ae 1682      		std Z+6,__zero_reg__
 579 03b0 1782      		std Z+7,__zero_reg__
 580               	.L53:
 581 03b2 CF01      		movw r24,r30
 582               	/* epilogue start */
 583 03b4 0895      		ret
 584               	.L56:
 585 03b6 E0E0      		ldi r30,lo8(0)
 586 03b8 F0E0      		ldi r31,hi8(0)
 587 03ba CF01      		movw r24,r30
 588 03bc 0895      		ret
 589               		.size	OSMboxCreate, .-OSMboxCreate
 590               	.global	OSQCreate
 591               		.type	OSQCreate, @function
 592               	OSQCreate:
 593               	/* prologue: function */
 594               	/* frame size = 0 */
 595 03be 9C01      		movw r18,r24
 596 03c0 8091 0000 		lds r24,OSIntNesting
 597 03c4 8823      		tst r24
 598 03c6 01F0      		breq .+2
 599 03c8 00C0      		rjmp .L63
 600               	/* #APP */
 601               	 ;  103 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 602 03ca F894      		cli
 603               	 ;  0 "" 2
 604               	/* #NOAPP */
 605 03cc E091 0000 		lds r30,OSEventFreeList
 606 03d0 F091 0000 		lds r31,(OSEventFreeList)+1
 607 03d4 3097      		sbiw r30,0
 608 03d6 01F0      		breq .L60
 609 03d8 8481      		ldd r24,Z+4
 610 03da 9581      		ldd r25,Z+5
 611 03dc 9093 0000 		sts (OSEventFreeList)+1,r25
 612 03e0 8093 0000 		sts OSEventFreeList,r24
 613               	.L60:
 614               	/* #APP */
 615               	 ;  108 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 616 03e4 7894      		sei
 617               	 ;  0 "" 2
 618               	/* #NOAPP */
 619 03e6 3097      		sbiw r30,0
 620 03e8 01F0      		breq .L59
 621               	/* #APP */
 622               	 ;  110 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 623 03ea F894      		cli
 624               	 ;  0 "" 2
 625               	/* #NOAPP */
 626 03ec A091 0000 		lds r26,OSQFreeList
 627 03f0 B091 0000 		lds r27,(OSQFreeList)+1
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 12


 628 03f4 1097      		sbiw r26,0
 629 03f6 01F0      		breq .L61
 630 03f8 8D91      		ld r24,X+
 631 03fa 9C91      		ld r25,X
 632 03fc 1197      		sbiw r26,1
 633 03fe 9093 0000 		sts (OSQFreeList)+1,r25
 634 0402 8093 0000 		sts OSQFreeList,r24
 635               	/* #APP */
 636               	 ;  114 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 637 0406 7894      		sei
 638               	 ;  0 "" 2
 639               	/* #NOAPP */
 640 0408 1396      		adiw r26,2+1
 641 040a 3C93      		st X,r19
 642 040c 2E93      		st -X,r18
 643 040e 1297      		sbiw r26,2
 644 0410 CB01      		movw r24,r22
 645 0412 880F      		lsl r24
 646 0414 991F      		rol r25
 647 0416 820F      		add r24,r18
 648 0418 931F      		adc r25,r19
 649 041a 1596      		adiw r26,4+1
 650 041c 9C93      		st X,r25
 651 041e 8E93      		st -X,r24
 652 0420 1497      		sbiw r26,4
 653 0422 1796      		adiw r26,6+1
 654 0424 3C93      		st X,r19
 655 0426 2E93      		st -X,r18
 656 0428 1697      		sbiw r26,6
 657 042a 1996      		adiw r26,8+1
 658 042c 3C93      		st X,r19
 659 042e 2E93      		st -X,r18
 660 0430 1897      		sbiw r26,8
 661 0432 1B96      		adiw r26,10+1
 662 0434 7C93      		st X,r23
 663 0436 6E93      		st -X,r22
 664 0438 1A97      		sbiw r26,10
 665 043a 1D96      		adiw r26,12+1
 666 043c 1C92      		st X,__zero_reg__
 667 043e 1E92      		st -X,__zero_reg__
 668 0440 1C97      		sbiw r26,12
 669 0442 82E0      		ldi r24,lo8(2)
 670 0444 8083      		st Z,r24
 671 0446 1382      		std Z+3,__zero_reg__
 672 0448 1282      		std Z+2,__zero_reg__
 673 044a B583      		std Z+5,r27
 674 044c A483      		std Z+4,r26
 675 044e 1182      		std Z+1,__zero_reg__
 676 0450 1682      		std Z+6,__zero_reg__
 677 0452 1782      		std Z+7,__zero_reg__
 678               	.L59:
 679 0454 CF01      		movw r24,r30
 680               	/* epilogue start */
 681 0456 0895      		ret
 682               	.L61:
 683 0458 8091 0000 		lds r24,OSEventFreeList
 684 045c 9091 0000 		lds r25,(OSEventFreeList)+1
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 13


 685 0460 9583      		std Z+5,r25
 686 0462 8483      		std Z+4,r24
 687 0464 F093 0000 		sts (OSEventFreeList)+1,r31
 688 0468 E093 0000 		sts OSEventFreeList,r30
 689               	/* #APP */
 690               	 ;  128 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 691 046c 7894      		sei
 692               	 ;  0 "" 2
 693               	/* #NOAPP */
 694               	.L63:
 695 046e E0E0      		ldi r30,lo8(0)
 696 0470 F0E0      		ldi r31,hi8(0)
 697 0472 CF01      		movw r24,r30
 698 0474 0895      		ret
 699               		.size	OSQCreate, .-OSQCreate
 700               	.global	OS_QInit
 701               		.type	OS_QInit, @function
 702               	OS_QInit:
 703               	/* prologue: function */
 704               	/* frame size = 0 */
 705 0476 80E0      		ldi r24,lo8(OSQTbl+14)
 706 0478 90E0      		ldi r25,hi8(OSQTbl+14)
 707 047a 9093 0000 		sts (OSQTbl)+1,r25
 708 047e 8093 0000 		sts OSQTbl,r24
 709 0482 0E96      		adiw r24,14
 710 0484 9093 0000 		sts (OSQTbl+14)+1,r25
 711 0488 8093 0000 		sts OSQTbl+14,r24
 712 048c 4C97      		sbiw r24,28
 713 048e 1092 0000 		sts (OSQTbl+28)+1,__zero_reg__
 714 0492 1092 0000 		sts OSQTbl+28,__zero_reg__
 715 0496 9093 0000 		sts (OSQFreeList)+1,r25
 716 049a 8093 0000 		sts OSQFreeList,r24
 717               	/* epilogue start */
 718 049e 0895      		ret
 719               		.size	OS_QInit, .-OS_QInit
 720               	.global	OSSemCreate
 721               		.type	OSSemCreate, @function
 722               	OSSemCreate:
 723               	/* prologue: function */
 724               	/* frame size = 0 */
 725 04a0 9C01      		movw r18,r24
 726 04a2 8091 0000 		lds r24,OSIntNesting
 727 04a6 8823      		tst r24
 728 04a8 01F4      		brne .L71
 729               	/* #APP */
 730               	 ;  94 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 731 04aa F894      		cli
 732               	 ;  0 "" 2
 733               	/* #NOAPP */
 734 04ac E091 0000 		lds r30,OSEventFreeList
 735 04b0 F091 0000 		lds r31,(OSEventFreeList)+1
 736 04b4 3097      		sbiw r30,0
 737 04b6 01F0      		breq .L69
 738 04b8 8481      		ldd r24,Z+4
 739 04ba 9581      		ldd r25,Z+5
 740 04bc 9093 0000 		sts (OSEventFreeList)+1,r25
 741 04c0 8093 0000 		sts OSEventFreeList,r24
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 14


 742               	.L69:
 743               	/* #APP */
 744               	 ;  99 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 745 04c4 7894      		sei
 746               	 ;  0 "" 2
 747               	/* #NOAPP */
 748 04c6 3097      		sbiw r30,0
 749 04c8 01F0      		breq .L68
 750 04ca 83E0      		ldi r24,lo8(3)
 751 04cc 8083      		st Z,r24
 752 04ce 3383      		std Z+3,r19
 753 04d0 2283      		std Z+2,r18
 754 04d2 1582      		std Z+5,__zero_reg__
 755 04d4 1482      		std Z+4,__zero_reg__
 756 04d6 1182      		std Z+1,__zero_reg__
 757 04d8 1682      		std Z+6,__zero_reg__
 758 04da 1782      		std Z+7,__zero_reg__
 759               	.L68:
 760 04dc CF01      		movw r24,r30
 761               	/* epilogue start */
 762 04de 0895      		ret
 763               	.L71:
 764 04e0 E0E0      		ldi r30,lo8(0)
 765 04e2 F0E0      		ldi r31,hi8(0)
 766 04e4 CF01      		movw r24,r30
 767 04e6 0895      		ret
 768               		.size	OSSemCreate, .-OSSemCreate
 769               	.global	OS_TCBInit
 770               		.type	OS_TCBInit, @function
 771               	OS_TCBInit:
 772 04e8 1F93      		push r17
 773 04ea CF93      		push r28
 774 04ec DF93      		push r29
 775               	/* prologue: function */
 776               	/* frame size = 0 */
 777 04ee 182F      		mov r17,r24
 778               	/* #APP */
 779               	 ;  1043 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 780 04f0 F894      		cli
 781               	 ;  0 "" 2
 782               	/* #NOAPP */
 783 04f2 C091 0000 		lds r28,OSTCBFreeList
 784 04f6 D091 0000 		lds r29,(OSTCBFreeList)+1
 785 04fa 2097      		sbiw r28,0
 786 04fc 01F4      		brne .+2
 787 04fe 00C0      		rjmp .L73
 788 0500 8A81      		ldd r24,Y+2
 789 0502 9B81      		ldd r25,Y+3
 790 0504 9093 0000 		sts (OSTCBFreeList)+1,r25
 791 0508 8093 0000 		sts OSTCBFreeList,r24
 792               	/* #APP */
 793               	 ;  1047 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 794 050c 7894      		sei
 795               	 ;  0 "" 2
 796               	/* #NOAPP */
 797 050e 7983      		std Y+1,r23
 798 0510 6883      		st Y,r22
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 15


 799 0512 1E87      		std Y+14,r17
 800 0514 1D86      		std Y+13,__zero_reg__
 801 0516 1C86      		std Y+12,__zero_reg__
 802 0518 1B86      		std Y+11,__zero_reg__
 803 051a E12F      		mov r30,r17
 804 051c E695      		lsr r30
 805 051e E695      		lsr r30
 806 0520 E695      		lsr r30
 807 0522 E88B      		std Y+16,r30
 808 0524 F0E0      		ldi r31,lo8(0)
 809 0526 E050      		subi r30,lo8(-(OSMapTbl))
 810 0528 F040      		sbci r31,hi8(-(OSMapTbl))
 811 052a 8081      		ld r24,Z
 812 052c 8A8B      		std Y+18,r24
 813 052e E12F      		mov r30,r17
 814 0530 E770      		andi r30,lo8(7)
 815 0532 EF87      		std Y+15,r30
 816 0534 F0E0      		ldi r31,lo8(0)
 817 0536 E050      		subi r30,lo8(-(OSMapTbl))
 818 0538 F040      		sbci r31,hi8(-(OSMapTbl))
 819 053a 8081      		ld r24,Z
 820 053c 898B      		std Y+17,r24
 821 053e 1F82      		std Y+7,__zero_reg__
 822 0540 1E82      		std Y+6,__zero_reg__
 823 0542 1986      		std Y+9,__zero_reg__
 824 0544 1886      		std Y+8,__zero_reg__
 825 0546 CE01      		movw r24,r28
 826 0548 0E94 0000 		call OSTCBInitHook
 827 054c CE01      		movw r24,r28
 828 054e 0E94 0000 		call OSTaskCreateHook
 829               	/* #APP */
 830               	 ;  1094 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 831 0552 F894      		cli
 832               	 ;  0 "" 2
 833               	/* #NOAPP */
 834 0554 E12F      		mov r30,r17
 835 0556 F0E0      		ldi r31,lo8(0)
 836 0558 EE0F      		lsl r30
 837 055a FF1F      		rol r31
 838 055c E050      		subi r30,lo8(-(OSTCBPrioTbl))
 839 055e F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 840 0560 D183      		std Z+1,r29
 841 0562 C083      		st Z,r28
 842 0564 E091 0000 		lds r30,OSTCBList
 843 0568 F091 0000 		lds r31,(OSTCBList)+1
 844 056c FB83      		std Y+3,r31
 845 056e EA83      		std Y+2,r30
 846 0570 1D82      		std Y+5,__zero_reg__
 847 0572 1C82      		std Y+4,__zero_reg__
 848 0574 3097      		sbiw r30,0
 849 0576 01F0      		breq .L74
 850 0578 D583      		std Z+5,r29
 851 057a C483      		std Z+4,r28
 852               	.L74:
 853 057c D093 0000 		sts (OSTCBList)+1,r29
 854 0580 C093 0000 		sts OSTCBList,r28
 855 0584 8091 0000 		lds r24,OSRdyGrp
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 16


 856 0588 9A89      		ldd r25,Y+18
 857 058a 892B      		or r24,r25
 858 058c 8093 0000 		sts OSRdyGrp,r24
 859 0590 E889      		ldd r30,Y+16
 860 0592 F0E0      		ldi r31,lo8(0)
 861 0594 E050      		subi r30,lo8(-(OSRdyTbl))
 862 0596 F040      		sbci r31,hi8(-(OSRdyTbl))
 863 0598 8081      		ld r24,Z
 864 059a 9989      		ldd r25,Y+17
 865 059c 892B      		or r24,r25
 866 059e 8083      		st Z,r24
 867               	/* #APP */
 868               	 ;  1104 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 869 05a0 7894      		sei
 870               	 ;  0 "" 2
 871               	/* #NOAPP */
 872 05a2 80E0      		ldi r24,lo8(0)
 873               	/* epilogue start */
 874 05a4 DF91      		pop r29
 875 05a6 CF91      		pop r28
 876 05a8 1F91      		pop r17
 877 05aa 0895      		ret
 878               	.L73:
 879               	/* #APP */
 880               	 ;  1107 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 881 05ac 7894      		sei
 882               	 ;  0 "" 2
 883               	/* #NOAPP */
 884 05ae 86E4      		ldi r24,lo8(70)
 885 05b0 DF91      		pop r29
 886 05b2 CF91      		pop r28
 887 05b4 1F91      		pop r17
 888 05b6 0895      		ret
 889               		.size	OS_TCBInit, .-OS_TCBInit
 890               	.global	OS_TaskIdle
 891               		.type	OS_TaskIdle, @function
 892               	OS_TaskIdle:
 893               	/* prologue: function */
 894               	/* frame size = 0 */
 895               	.L78:
 896               	/* #APP */
 897               	 ;  920 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 898 05b8 F894      		cli
 899               	 ;  0 "" 2
 900               	/* #NOAPP */
 901 05ba 8091 0000 		lds r24,OSIdleCtr
 902 05be 9091 0000 		lds r25,(OSIdleCtr)+1
 903 05c2 A091 0000 		lds r26,(OSIdleCtr)+2
 904 05c6 B091 0000 		lds r27,(OSIdleCtr)+3
 905 05ca 0196      		adiw r24,1
 906 05cc A11D      		adc r26,__zero_reg__
 907 05ce B11D      		adc r27,__zero_reg__
 908 05d0 8093 0000 		sts OSIdleCtr,r24
 909 05d4 9093 0000 		sts (OSIdleCtr)+1,r25
 910 05d8 A093 0000 		sts (OSIdleCtr)+2,r26
 911 05dc B093 0000 		sts (OSIdleCtr)+3,r27
 912               	/* #APP */
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 17


 913               	 ;  922 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 914 05e0 7894      		sei
 915               	 ;  0 "" 2
 916               	/* #NOAPP */
 917 05e2 0E94 0000 		call OSTaskIdleHook
 918 05e6 00C0      		rjmp .L78
 919               		.size	OS_TaskIdle, .-OS_TaskIdle
 920               	.global	OS_Sched
 921               		.type	OS_Sched, @function
 922               	OS_Sched:
 923               	/* prologue: function */
 924               	/* frame size = 0 */
 925               	/* #APP */
 926               	 ;  877 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 927 05e8 F894      		cli
 928               	 ;  0 "" 2
 929               	/* #NOAPP */
 930 05ea 8091 0000 		lds r24,OSIntNesting
 931 05ee 8823      		tst r24
 932 05f0 01F0      		breq .+2
 933 05f2 00C0      		rjmp .L81
 934 05f4 8091 0000 		lds r24,OSLockNesting
 935 05f8 8823      		tst r24
 936 05fa 01F4      		brne .L81
 937 05fc E091 0000 		lds r30,OSRdyGrp
 938 0600 F0E0      		ldi r31,lo8(0)
 939 0602 E050      		subi r30,lo8(-(OSUnMapTbl))
 940 0604 F040      		sbci r31,hi8(-(OSUnMapTbl))
 941 0606 8081      		ld r24,Z
 942 0608 E82F      		mov r30,r24
 943 060a F0E0      		ldi r31,lo8(0)
 944 060c E050      		subi r30,lo8(-(OSRdyTbl))
 945 060e F040      		sbci r31,hi8(-(OSRdyTbl))
 946 0610 E081      		ld r30,Z
 947 0612 F0E0      		ldi r31,lo8(0)
 948 0614 E050      		subi r30,lo8(-(OSUnMapTbl))
 949 0616 F040      		sbci r31,hi8(-(OSUnMapTbl))
 950 0618 982F      		mov r25,r24
 951 061a 990F      		lsl r25
 952 061c 990F      		lsl r25
 953 061e 990F      		lsl r25
 954 0620 8081      		ld r24,Z
 955 0622 980F      		add r25,r24
 956 0624 9093 0000 		sts OSPrioHighRdy,r25
 957 0628 8091 0000 		lds r24,OSPrioCur
 958 062c 9817      		cp r25,r24
 959 062e 01F0      		breq .L81
 960 0630 E92F      		mov r30,r25
 961 0632 F0E0      		ldi r31,lo8(0)
 962 0634 EE0F      		lsl r30
 963 0636 FF1F      		rol r31
 964 0638 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 965 063a F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 966 063c 8081      		ld r24,Z
 967 063e 9181      		ldd r25,Z+1
 968 0640 9093 0000 		sts (OSTCBHighRdy)+1,r25
 969 0644 8093 0000 		sts OSTCBHighRdy,r24
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 18


 970 0648 8091 0000 		lds r24,OSCtxSwCtr
 971 064c 9091 0000 		lds r25,(OSCtxSwCtr)+1
 972 0650 A091 0000 		lds r26,(OSCtxSwCtr)+2
 973 0654 B091 0000 		lds r27,(OSCtxSwCtr)+3
 974 0658 0196      		adiw r24,1
 975 065a A11D      		adc r26,__zero_reg__
 976 065c B11D      		adc r27,__zero_reg__
 977 065e 8093 0000 		sts OSCtxSwCtr,r24
 978 0662 9093 0000 		sts (OSCtxSwCtr)+1,r25
 979 0666 A093 0000 		sts (OSCtxSwCtr)+2,r26
 980 066a B093 0000 		sts (OSCtxSwCtr)+3,r27
 981 066e 0E94 0000 		call OSCtxSw
 982               	.L81:
 983               	/* #APP */
 984               	 ;  887 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 985 0672 7894      		sei
 986               	 ;  0 "" 2
 987               	/* epilogue start */
 988               	/* #NOAPP */
 989 0674 0895      		ret
 990               		.size	OS_Sched, .-OS_Sched
 991               	.global	OSTimeDly
 992               		.type	OSTimeDly, @function
 993               	OSTimeDly:
 994               	/* prologue: function */
 995               	/* frame size = 0 */
 996 0676 9C01      		movw r18,r24
 997 0678 0097      		sbiw r24,0
 998 067a 01F0      		breq .L86
 999               	/* #APP */
 1000               	 ;  43 "C:/RTOS_PORTING/lab2/source/os_time.c" 1
 1001 067c F894      		cli
 1002               	 ;  0 "" 2
 1003               	/* #NOAPP */
 1004 067e A091 0000 		lds r26,OSTCBCur
 1005 0682 B091 0000 		lds r27,(OSTCBCur)+1
 1006 0686 5096      		adiw r26,16
 1007 0688 EC91      		ld r30,X
 1008 068a 5097      		sbiw r26,16
 1009 068c F0E0      		ldi r31,lo8(0)
 1010 068e E050      		subi r30,lo8(-(OSRdyTbl))
 1011 0690 F040      		sbci r31,hi8(-(OSRdyTbl))
 1012 0692 5196      		adiw r26,17
 1013 0694 8C91      		ld r24,X
 1014 0696 5197      		sbiw r26,17
 1015 0698 8095      		com r24
 1016 069a 9081      		ld r25,Z
 1017 069c 8923      		and r24,r25
 1018 069e 8083      		st Z,r24
 1019 06a0 8823      		tst r24
 1020 06a2 01F4      		brne .L85
 1021 06a4 5296      		adiw r26,18
 1022 06a6 9C91      		ld r25,X
 1023 06a8 5297      		sbiw r26,18
 1024 06aa 9095      		com r25
 1025 06ac 8091 0000 		lds r24,OSRdyGrp
 1026 06b0 8923      		and r24,r25
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 19


 1027 06b2 8093 0000 		sts OSRdyGrp,r24
 1028               	.L85:
 1029 06b6 1C96      		adiw r26,11+1
 1030 06b8 3C93      		st X,r19
 1031 06ba 2E93      		st -X,r18
 1032 06bc 1B97      		sbiw r26,11
 1033               	/* #APP */
 1034               	 ;  48 "C:/RTOS_PORTING/lab2/source/os_time.c" 1
 1035 06be 7894      		sei
 1036               	 ;  0 "" 2
 1037               	/* #NOAPP */
 1038 06c0 0E94 0000 		call OS_Sched
 1039               	.L86:
 1040 06c4 0895      		ret
 1041               		.size	OSTimeDly, .-OSTimeDly
 1042               	.global	OSTimeDlyHMSM
 1043               		.type	OSTimeDlyHMSM, @function
 1044               	OSTimeDlyHMSM:
 1045 06c6 8F92      		push r8
 1046 06c8 9F92      		push r9
 1047 06ca AF92      		push r10
 1048 06cc BF92      		push r11
 1049 06ce CF92      		push r12
 1050 06d0 DF92      		push r13
 1051 06d2 EF92      		push r14
 1052 06d4 FF92      		push r15
 1053 06d6 0F93      		push r16
 1054 06d8 1F93      		push r17
 1055 06da CF93      		push r28
 1056 06dc DF93      		push r29
 1057               	/* prologue: function */
 1058               	/* frame size = 0 */
 1059 06de 882E      		mov r8,r24
 1060 06e0 162F      		mov r17,r22
 1061 06e2 942E      		mov r9,r20
 1062 06e4 8823      		tst r24
 1063 06e6 01F0      		breq .L98
 1064               	.L88:
 1065 06e8 1C33      		cpi r17,lo8(60)
 1066 06ea 00F4      		brsh .L99
 1067               	.L89:
 1068 06ec 8BE3      		ldi r24,lo8(59)
 1069 06ee 8915      		cp r24,r9
 1070 06f0 00F0      		brlo .L100
 1071               	.L90:
 1072 06f2 93E0      		ldi r25,hi8(1000)
 1073 06f4 283E      		cpi r18,lo8(1000)
 1074 06f6 3907      		cpc r19,r25
 1075 06f8 00F0      		brlo .L92
 1076 06fa 83E5      		ldi r24,lo8(83)
 1077               	.L91:
 1078               	/* epilogue start */
 1079 06fc DF91      		pop r29
 1080 06fe CF91      		pop r28
 1081 0700 1F91      		pop r17
 1082 0702 0F91      		pop r16
 1083 0704 FF90      		pop r15
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 20


 1084 0706 EF90      		pop r14
 1085 0708 DF90      		pop r13
 1086 070a CF90      		pop r12
 1087 070c BF90      		pop r11
 1088 070e AF90      		pop r10
 1089 0710 9F90      		pop r9
 1090 0712 8F90      		pop r8
 1091 0714 0895      		ret
 1092               	.L100:
 1093 0716 82E5      		ldi r24,lo8(82)
 1094 0718 00C0      		rjmp .L91
 1095               	.L98:
 1096 071a 6623      		tst r22
 1097 071c 01F4      		brne .L88
 1098 071e 4423      		tst r20
 1099 0720 01F4      		brne .L89
 1100 0722 2115      		cp r18,__zero_reg__
 1101 0724 3105      		cpc r19,__zero_reg__
 1102 0726 01F4      		brne .L90
 1103 0728 84E5      		ldi r24,lo8(84)
 1104 072a 00C0      		rjmp .L91
 1105               	.L99:
 1106 072c 81E5      		ldi r24,lo8(81)
 1107 072e 00C0      		rjmp .L91
 1108               	.L92:
 1109 0730 B901      		movw r22,r18
 1110 0732 80E0      		ldi r24,lo8(0)
 1111 0734 90E0      		ldi r25,hi8(0)
 1112 0736 24E6      		ldi r18,lo8(100)
 1113 0738 30E0      		ldi r19,hi8(100)
 1114 073a 40E0      		ldi r20,hlo8(100)
 1115 073c 50E0      		ldi r21,hhi8(100)
 1116 073e 0E94 0000 		call __mulsi3
 1117 0742 6C50      		subi r22,lo8(-(500))
 1118 0744 7E4F      		sbci r23,hi8(-(500))
 1119 0746 8F4F      		sbci r24,hlo8(-(500))
 1120 0748 9F4F      		sbci r25,hhi8(-(500))
 1121 074a 28EE      		ldi r18,lo8(1000)
 1122 074c 33E0      		ldi r19,hi8(1000)
 1123 074e 40E0      		ldi r20,hlo8(1000)
 1124 0750 50E0      		ldi r21,hhi8(1000)
 1125 0752 0E94 0000 		call __udivmodsi4
 1126 0756 5901      		movw r10,r18
 1127 0758 6A01      		movw r12,r20
 1128 075a 612F      		mov r22,r17
 1129 075c 70E0      		ldi r23,lo8(0)
 1130 075e 80E0      		ldi r24,lo8(0)
 1131 0760 90E0      		ldi r25,hi8(0)
 1132 0762 2CE3      		ldi r18,lo8(60)
 1133 0764 30E0      		ldi r19,hi8(60)
 1134 0766 40E0      		ldi r20,hlo8(60)
 1135 0768 50E0      		ldi r21,hhi8(60)
 1136 076a 0E94 0000 		call __mulsi3
 1137 076e 7B01      		movw r14,r22
 1138 0770 8C01      		movw r16,r24
 1139 0772 E90C      		add r14,r9
 1140 0774 F11C      		adc r15,__zero_reg__
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 21


 1141 0776 011D      		adc r16,__zero_reg__
 1142 0778 111D      		adc r17,__zero_reg__
 1143 077a 682D      		mov r22,r8
 1144 077c 70E0      		ldi r23,lo8(0)
 1145 077e 80E0      		ldi r24,lo8(0)
 1146 0780 90E0      		ldi r25,hi8(0)
 1147 0782 20E1      		ldi r18,lo8(3600)
 1148 0784 3EE0      		ldi r19,hi8(3600)
 1149 0786 40E0      		ldi r20,hlo8(3600)
 1150 0788 50E0      		ldi r21,hhi8(3600)
 1151 078a 0E94 0000 		call __mulsi3
 1152 078e E60E      		add r14,r22
 1153 0790 F71E      		adc r15,r23
 1154 0792 081F      		adc r16,r24
 1155 0794 191F      		adc r17,r25
 1156 0796 C801      		movw r24,r16
 1157 0798 B701      		movw r22,r14
 1158 079a 24E6      		ldi r18,lo8(100)
 1159 079c 30E0      		ldi r19,hi8(100)
 1160 079e 40E0      		ldi r20,hlo8(100)
 1161 07a0 50E0      		ldi r21,hhi8(100)
 1162 07a2 0E94 0000 		call __mulsi3
 1163 07a6 A60E      		add r10,r22
 1164 07a8 B71E      		adc r11,r23
 1165 07aa C81E      		adc r12,r24
 1166 07ac D91E      		adc r13,r25
 1167 07ae 7601      		movw r14,r12
 1168 07b0 0027      		clr r16
 1169 07b2 1127      		clr r17
 1170 07b4 E701      		movw r28,r14
 1171 07b6 8FEF      		ldi r24,lo8(65535)
 1172 07b8 9FEF      		ldi r25,hi8(65535)
 1173 07ba A0E0      		ldi r26,hlo8(65535)
 1174 07bc B0E0      		ldi r27,hhi8(65535)
 1175 07be A822      		and r10,r24
 1176 07c0 B922      		and r11,r25
 1177 07c2 CA22      		and r12,r26
 1178 07c4 DB22      		and r13,r27
 1179 07c6 C501      		movw r24,r10
 1180 07c8 0E94 0000 		call OSTimeDly
 1181 07cc EF28      		or r14,r15
 1182 07ce 01F0      		breq .L93
 1183               	.L96:
 1184 07d0 80E0      		ldi r24,lo8(-32768)
 1185 07d2 90E8      		ldi r25,hi8(-32768)
 1186 07d4 0E94 0000 		call OSTimeDly
 1187 07d8 80E0      		ldi r24,lo8(-32768)
 1188 07da 90E8      		ldi r25,hi8(-32768)
 1189 07dc 0E94 0000 		call OSTimeDly
 1190 07e0 2197      		sbiw r28,1
 1191 07e2 01F4      		brne .L96
 1192               	.L93:
 1193 07e4 80E0      		ldi r24,lo8(0)
 1194 07e6 00C0      		rjmp .L91
 1195               		.size	OSTimeDlyHMSM, .-OSTimeDlyHMSM
 1196               	.global	OS_TaskStat
 1197               		.type	OS_TaskStat, @function
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 22


 1198               	OS_TaskStat:
 1199 07e8 DF92      		push r13
 1200 07ea EF92      		push r14
 1201 07ec FF92      		push r15
 1202 07ee 0F93      		push r16
 1203 07f0 1F93      		push r17
 1204               	/* prologue: function */
 1205               	/* frame size = 0 */
 1206 07f2 8091 0000 		lds r24,OSStatRdy
 1207 07f6 8823      		tst r24
 1208 07f8 01F4      		brne .L102
 1209               	.L109:
 1210 07fa 88EC      		ldi r24,lo8(200)
 1211 07fc 90E0      		ldi r25,hi8(200)
 1212 07fe 0E94 0000 		call OSTimeDly
 1213 0802 8091 0000 		lds r24,OSStatRdy
 1214 0806 8823      		tst r24
 1215 0808 01F0      		breq .L109
 1216               	.L102:
 1217 080a 6091 0000 		lds r22,OSIdleCtrMax
 1218 080e 7091 0000 		lds r23,(OSIdleCtrMax)+1
 1219 0812 8091 0000 		lds r24,(OSIdleCtrMax)+2
 1220 0816 9091 0000 		lds r25,(OSIdleCtrMax)+3
 1221 081a 24E6      		ldi r18,lo8(100)
 1222 081c 30E0      		ldi r19,hi8(100)
 1223 081e 40E0      		ldi r20,hlo8(100)
 1224 0820 50E0      		ldi r21,hhi8(100)
 1225 0822 0E94 0000 		call __udivmodsi4
 1226 0826 C901      		movw r24,r18
 1227 0828 DA01      		movw r26,r20
 1228 082a 7C01      		movw r14,r24
 1229 082c 8D01      		movw r16,r26
 1230 082e E4E6      		ldi r30,lo8(100)
 1231 0830 DE2E      		mov r13,r30
 1232 0832 00C0      		rjmp .L107
 1233               	.L111:
 1234 0834 A801      		movw r20,r16
 1235 0836 9701      		movw r18,r14
 1236 0838 0E94 0000 		call __udivmodsi4
 1237 083c 8D2D      		mov r24,r13
 1238 083e 821B      		sub r24,r18
 1239 0840 87FD      		sbrc r24,7
 1240 0842 00C0      		rjmp .L105
 1241 0844 8093 0000 		sts OSCPUUsage,r24
 1242               	.L106:
 1243 0848 0E94 0000 		call OSTaskStatHook
 1244 084c 84E6      		ldi r24,lo8(100)
 1245 084e 90E0      		ldi r25,hi8(100)
 1246 0850 0E94 0000 		call OSTimeDly
 1247               	.L107:
 1248               	/* #APP */
 1249               	 ;  970 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 1250 0854 F894      		cli
 1251               	 ;  0 "" 2
 1252               	/* #NOAPP */
 1253 0856 8091 0000 		lds r24,OSIdleCtr
 1254 085a 9091 0000 		lds r25,(OSIdleCtr)+1
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 23


 1255 085e A091 0000 		lds r26,(OSIdleCtr)+2
 1256 0862 B091 0000 		lds r27,(OSIdleCtr)+3
 1257 0866 8093 0000 		sts OSIdleCtrRun,r24
 1258 086a 9093 0000 		sts (OSIdleCtrRun)+1,r25
 1259 086e A093 0000 		sts (OSIdleCtrRun)+2,r26
 1260 0872 B093 0000 		sts (OSIdleCtrRun)+3,r27
 1261 0876 6091 0000 		lds r22,OSIdleCtr
 1262 087a 7091 0000 		lds r23,(OSIdleCtr)+1
 1263 087e 8091 0000 		lds r24,(OSIdleCtr)+2
 1264 0882 9091 0000 		lds r25,(OSIdleCtr)+3
 1265 0886 1092 0000 		sts OSIdleCtr,__zero_reg__
 1266 088a 1092 0000 		sts (OSIdleCtr)+1,__zero_reg__
 1267 088e 1092 0000 		sts (OSIdleCtr)+2,__zero_reg__
 1268 0892 1092 0000 		sts (OSIdleCtr)+3,__zero_reg__
 1269               	/* #APP */
 1270               	 ;  974 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 1271 0896 7894      		sei
 1272               	 ;  0 "" 2
 1273               	/* #NOAPP */
 1274 0898 E114      		cp r14,__zero_reg__
 1275 089a F104      		cpc r15,__zero_reg__
 1276 089c 0105      		cpc r16,__zero_reg__
 1277 089e 1105      		cpc r17,__zero_reg__
 1278 08a0 01F4      		brne .L111
 1279 08a2 1092 0000 		sts OSCPUUsage,__zero_reg__
 1280 08a6 6091 0000 		lds r22,OSIdleCtrMax
 1281 08aa 7091 0000 		lds r23,(OSIdleCtrMax)+1
 1282 08ae 8091 0000 		lds r24,(OSIdleCtrMax)+2
 1283 08b2 9091 0000 		lds r25,(OSIdleCtrMax)+3
 1284 08b6 24E6      		ldi r18,lo8(100)
 1285 08b8 30E0      		ldi r19,hi8(100)
 1286 08ba 40E0      		ldi r20,hlo8(100)
 1287 08bc 50E0      		ldi r21,hhi8(100)
 1288 08be 0E94 0000 		call __udivmodsi4
 1289 08c2 C901      		movw r24,r18
 1290 08c4 DA01      		movw r26,r20
 1291 08c6 7C01      		movw r14,r24
 1292 08c8 8D01      		movw r16,r26
 1293 08ca 00C0      		rjmp .L106
 1294               	.L105:
 1295 08cc 1092 0000 		sts OSCPUUsage,__zero_reg__
 1296 08d0 00C0      		rjmp .L106
 1297               		.size	OS_TaskStat, .-OS_TaskStat
 1298               	.global	OSStatInit
 1299               		.type	OSStatInit, @function
 1300               	OSStatInit:
 1301               	/* prologue: function */
 1302               	/* frame size = 0 */
 1303 08d2 82E0      		ldi r24,lo8(2)
 1304 08d4 90E0      		ldi r25,hi8(2)
 1305 08d6 0E94 0000 		call OSTimeDly
 1306               	/* #APP */
 1307               	 ;  339 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 1308 08da F894      		cli
 1309               	 ;  0 "" 2
 1310               	/* #NOAPP */
 1311 08dc 1092 0000 		sts OSIdleCtr,__zero_reg__
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 24


 1312 08e0 1092 0000 		sts (OSIdleCtr)+1,__zero_reg__
 1313 08e4 1092 0000 		sts (OSIdleCtr)+2,__zero_reg__
 1314 08e8 1092 0000 		sts (OSIdleCtr)+3,__zero_reg__
 1315               	/* #APP */
 1316               	 ;  341 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 1317 08ec 7894      		sei
 1318               	 ;  0 "" 2
 1319               	/* #NOAPP */
 1320 08ee 84E6      		ldi r24,lo8(100)
 1321 08f0 90E0      		ldi r25,hi8(100)
 1322 08f2 0E94 0000 		call OSTimeDly
 1323               	/* #APP */
 1324               	 ;  343 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 1325 08f6 F894      		cli
 1326               	 ;  0 "" 2
 1327               	/* #NOAPP */
 1328 08f8 8091 0000 		lds r24,OSIdleCtr
 1329 08fc 9091 0000 		lds r25,(OSIdleCtr)+1
 1330 0900 A091 0000 		lds r26,(OSIdleCtr)+2
 1331 0904 B091 0000 		lds r27,(OSIdleCtr)+3
 1332 0908 8093 0000 		sts OSIdleCtrMax,r24
 1333 090c 9093 0000 		sts (OSIdleCtrMax)+1,r25
 1334 0910 A093 0000 		sts (OSIdleCtrMax)+2,r26
 1335 0914 B093 0000 		sts (OSIdleCtrMax)+3,r27
 1336 0918 81E0      		ldi r24,lo8(1)
 1337 091a 8093 0000 		sts OSStatRdy,r24
 1338               	/* #APP */
 1339               	 ;  346 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 1340 091e 7894      		sei
 1341               	 ;  0 "" 2
 1342               	/* epilogue start */
 1343               	/* #NOAPP */
 1344 0920 0895      		ret
 1345               		.size	OSStatInit, .-OSStatInit
 1346               	.global	OSTaskCreate
 1347               		.type	OSTaskCreate, @function
 1348               	OSTaskCreate:
 1349 0922 AF92      		push r10
 1350 0924 BF92      		push r11
 1351 0926 CF92      		push r12
 1352 0928 DF92      		push r13
 1353 092a EF92      		push r14
 1354 092c FF92      		push r15
 1355 092e 0F93      		push r16
 1356 0930 1F93      		push r17
 1357 0932 CF93      		push r28
 1358 0934 DF93      		push r29
 1359               	/* prologue: function */
 1360               	/* frame size = 0 */
 1361 0936 FC01      		movw r30,r24
 1362 0938 122F      		mov r17,r18
 1363               	/* #APP */
 1364               	 ;  172 "C:/RTOS_PORTING/lab2/source/os_task.c" 1
 1365 093a F894      		cli
 1366               	 ;  0 "" 2
 1367               	/* #NOAPP */
 1368 093c C22F      		mov r28,r18
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 25


 1369 093e D0E0      		ldi r29,lo8(0)
 1370 0940 CC0F      		lsl r28
 1371 0942 DD1F      		rol r29
 1372 0944 C050      		subi r28,lo8(-(OSTCBPrioTbl))
 1373 0946 D040      		sbci r29,hi8(-(OSTCBPrioTbl))
 1374 0948 8881      		ld r24,Y
 1375 094a 9981      		ldd r25,Y+1
 1376 094c 892B      		or r24,r25
 1377 094e 01F0      		breq .L119
 1378               	/* #APP */
 1379               	 ;  193 "C:/RTOS_PORTING/lab2/source/os_task.c" 1
 1380 0950 7894      		sei
 1381               	 ;  0 "" 2
 1382               	/* #NOAPP */
 1383 0952 18E2      		ldi r17,lo8(40)
 1384               	.L117:
 1385 0954 812F      		mov r24,r17
 1386               	/* epilogue start */
 1387 0956 DF91      		pop r29
 1388 0958 CF91      		pop r28
 1389 095a 1F91      		pop r17
 1390 095c 0F91      		pop r16
 1391 095e FF90      		pop r15
 1392 0960 EF90      		pop r14
 1393 0962 DF90      		pop r13
 1394 0964 CF90      		pop r12
 1395 0966 BF90      		pop r11
 1396 0968 AF90      		pop r10
 1397 096a 0895      		ret
 1398               	.L119:
 1399 096c 81E0      		ldi r24,lo8(1)
 1400 096e 90E0      		ldi r25,hi8(1)
 1401 0970 9983      		std Y+1,r25
 1402 0972 8883      		st Y,r24
 1403               	/* #APP */
 1404               	 ;  176 "C:/RTOS_PORTING/lab2/source/os_task.c" 1
 1405 0974 7894      		sei
 1406               	 ;  0 "" 2
 1407               	/* #NOAPP */
 1408 0976 CF01      		movw r24,r30
 1409 0978 20E0      		ldi r18,lo8(0)
 1410 097a 30E0      		ldi r19,hi8(0)
 1411 097c 0E94 0000 		call OSTaskStkInit
 1412 0980 BC01      		movw r22,r24
 1413 0982 812F      		mov r24,r17
 1414 0984 40E0      		ldi r20,lo8(0)
 1415 0986 50E0      		ldi r21,hi8(0)
 1416 0988 20E0      		ldi r18,lo8(0)
 1417 098a 30E0      		ldi r19,hi8(0)
 1418 098c EE24      		clr r14
 1419 098e FF24      		clr r15
 1420 0990 8701      		movw r16,r14
 1421 0992 CC24      		clr r12
 1422 0994 DD24      		clr r13
 1423 0996 AA24      		clr r10
 1424 0998 BB24      		clr r11
 1425 099a 0E94 0000 		call OS_TCBInit
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 26


 1426 099e 182F      		mov r17,r24
 1427 09a0 8823      		tst r24
 1428 09a2 01F4      		brne .L116
 1429               	/* #APP */
 1430               	 ;  180 "C:/RTOS_PORTING/lab2/source/os_task.c" 1
 1431 09a4 F894      		cli
 1432               	 ;  0 "" 2
 1433               	/* #NOAPP */
 1434 09a6 8091 0000 		lds r24,OSTaskCtr
 1435 09aa 8F5F      		subi r24,lo8(-(1))
 1436 09ac 8093 0000 		sts OSTaskCtr,r24
 1437               	/* #APP */
 1438               	 ;  182 "C:/RTOS_PORTING/lab2/source/os_task.c" 1
 1439 09b0 7894      		sei
 1440               	 ;  0 "" 2
 1441               	/* #NOAPP */
 1442 09b2 8091 0000 		lds r24,OSRunning
 1443 09b6 8130      		cpi r24,lo8(1)
 1444 09b8 01F4      		brne .L117
 1445 09ba 0E94 0000 		call OS_Sched
 1446 09be 00C0      		rjmp .L117
 1447               	.L116:
 1448               	/* #APP */
 1449               	 ;  187 "C:/RTOS_PORTING/lab2/source/os_task.c" 1
 1450 09c0 F894      		cli
 1451               	 ;  0 "" 2
 1452               	/* #NOAPP */
 1453 09c2 1982      		std Y+1,__zero_reg__
 1454 09c4 1882      		st Y,__zero_reg__
 1455               	/* #APP */
 1456               	 ;  189 "C:/RTOS_PORTING/lab2/source/os_task.c" 1
 1457 09c6 7894      		sei
 1458               	 ;  0 "" 2
 1459               	/* #NOAPP */
 1460 09c8 00C0      		rjmp .L117
 1461               		.size	OSTaskCreate, .-OSTaskCreate
 1462               	.global	OSSemPost
 1463               		.type	OSSemPost, @function
 1464               	OSSemPost:
 1465               	/* prologue: function */
 1466               	/* frame size = 0 */
 1467 09ca FC01      		movw r30,r24
 1468               	/* #APP */
 1469               	 ;  323 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 1470 09cc F894      		cli
 1471               	 ;  0 "" 2
 1472               	/* #NOAPP */
 1473 09ce 8181      		ldd r24,Z+1
 1474 09d0 8823      		tst r24
 1475 09d2 01F4      		brne .L125
 1476 09d4 8281      		ldd r24,Z+2
 1477 09d6 9381      		ldd r25,Z+3
 1478 09d8 2FEF      		ldi r18,hi8(-1)
 1479 09da 8F3F      		cpi r24,lo8(-1)
 1480 09dc 9207      		cpc r25,r18
 1481 09de 01F0      		breq .L123
 1482 09e0 0196      		adiw r24,1
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 27


 1483 09e2 9383      		std Z+3,r25
 1484 09e4 8283      		std Z+2,r24
 1485               	/* #APP */
 1486               	 ;  332 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 1487 09e6 7894      		sei
 1488               	 ;  0 "" 2
 1489               	/* #NOAPP */
 1490 09e8 80E0      		ldi r24,lo8(0)
 1491 09ea 0895      		ret
 1492               	.L123:
 1493               	/* #APP */
 1494               	 ;  335 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 1495 09ec 7894      		sei
 1496               	 ;  0 "" 2
 1497               	/* #NOAPP */
 1498 09ee 82E3      		ldi r24,lo8(50)
 1499 09f0 0895      		ret
 1500               	.L125:
 1501 09f2 CF01      		movw r24,r30
 1502 09f4 60E0      		ldi r22,lo8(0)
 1503 09f6 70E0      		ldi r23,hi8(0)
 1504 09f8 41E0      		ldi r20,lo8(1)
 1505 09fa 0E94 0000 		call OS_EventTaskRdy
 1506               	/* #APP */
 1507               	 ;  326 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 1508 09fe 7894      		sei
 1509               	 ;  0 "" 2
 1510               	/* #NOAPP */
 1511 0a00 0E94 0000 		call OS_Sched
 1512 0a04 80E0      		ldi r24,lo8(0)
 1513 0a06 0895      		ret
 1514               		.size	OSSemPost, .-OSSemPost
 1515               	.global	OSSemPend
 1516               		.type	OSSemPend, @function
 1517               	OSSemPend:
 1518 0a08 0F93      		push r16
 1519 0a0a 1F93      		push r17
 1520 0a0c CF93      		push r28
 1521 0a0e DF93      		push r29
 1522               	/* prologue: function */
 1523               	/* frame size = 0 */
 1524 0a10 EC01      		movw r28,r24
 1525 0a12 8A01      		movw r16,r20
 1526 0a14 8091 0000 		lds r24,OSIntNesting
 1527 0a18 8823      		tst r24
 1528 0a1a 01F4      		brne .L132
 1529               	/* #APP */
 1530               	 ;  265 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 1531 0a1c F894      		cli
 1532               	 ;  0 "" 2
 1533               	/* #NOAPP */
 1534 0a1e 8A81      		ldd r24,Y+2
 1535 0a20 9B81      		ldd r25,Y+3
 1536 0a22 0097      		sbiw r24,0
 1537 0a24 01F0      		breq .L129
 1538 0a26 0197      		sbiw r24,1
 1539 0a28 9B83      		std Y+3,r25
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 28


 1540 0a2a 8A83      		std Y+2,r24
 1541               	/* #APP */
 1542               	 ;  268 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 1543 0a2c 7894      		sei
 1544               	 ;  0 "" 2
 1545               	/* #NOAPP */
 1546 0a2e FA01      		movw r30,r20
 1547 0a30 1082      		st Z,__zero_reg__
 1548               	.L131:
 1549               	/* epilogue start */
 1550 0a32 DF91      		pop r29
 1551 0a34 CF91      		pop r28
 1552 0a36 1F91      		pop r17
 1553 0a38 0F91      		pop r16
 1554 0a3a 0895      		ret
 1555               	.L132:
 1556 0a3c 82E0      		ldi r24,lo8(2)
 1557 0a3e FA01      		movw r30,r20
 1558 0a40 8083      		st Z,r24
 1559 0a42 DF91      		pop r29
 1560 0a44 CF91      		pop r28
 1561 0a46 1F91      		pop r17
 1562 0a48 0F91      		pop r16
 1563 0a4a 0895      		ret
 1564               	.L129:
 1565 0a4c E091 0000 		lds r30,OSTCBCur
 1566 0a50 F091 0000 		lds r31,(OSTCBCur)+1
 1567 0a54 8585      		ldd r24,Z+13
 1568 0a56 8160      		ori r24,lo8(1)
 1569 0a58 8587      		std Z+13,r24
 1570 0a5a 7487      		std Z+12,r23
 1571 0a5c 6387      		std Z+11,r22
 1572 0a5e CE01      		movw r24,r28
 1573 0a60 0E94 0000 		call OS_EventTaskWait
 1574               	/* #APP */
 1575               	 ;  276 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 1576 0a64 7894      		sei
 1577               	 ;  0 "" 2
 1578               	/* #NOAPP */
 1579 0a66 0E94 0000 		call OS_Sched
 1580               	/* #APP */
 1581               	 ;  278 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 1582 0a6a F894      		cli
 1583               	 ;  0 "" 2
 1584               	/* #NOAPP */
 1585 0a6c E091 0000 		lds r30,OSTCBCur
 1586 0a70 F091 0000 		lds r31,(OSTCBCur)+1
 1587 0a74 8585      		ldd r24,Z+13
 1588 0a76 80FD      		sbrc r24,0
 1589 0a78 00C0      		rjmp .L133
 1590 0a7a 1782      		std Z+7,__zero_reg__
 1591 0a7c 1682      		std Z+6,__zero_reg__
 1592               	/* #APP */
 1593               	 ;  286 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 1594 0a7e 7894      		sei
 1595               	 ;  0 "" 2
 1596               	/* #NOAPP */
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 29


 1597 0a80 F801      		movw r30,r16
 1598 0a82 1082      		st Z,__zero_reg__
 1599 0a84 DF91      		pop r29
 1600 0a86 CF91      		pop r28
 1601 0a88 1F91      		pop r17
 1602 0a8a 0F91      		pop r16
 1603 0a8c 0895      		ret
 1604               	.L133:
 1605 0a8e CE01      		movw r24,r28
 1606 0a90 0E94 0000 		call OS_EventTO
 1607               	/* #APP */
 1608               	 ;  281 "C:/RTOS_PORTING/lab2/source/os_sem.c" 1
 1609 0a94 7894      		sei
 1610               	 ;  0 "" 2
 1611               	/* #NOAPP */
 1612 0a96 8AE0      		ldi r24,lo8(10)
 1613 0a98 F801      		movw r30,r16
 1614 0a9a 8083      		st Z,r24
 1615 0a9c 00C0      		rjmp .L131
 1616               		.size	OSSemPend, .-OSSemPend
 1617               	.global	OSQPost
 1618               		.type	OSQPost, @function
 1619               	OSQPost:
 1620               	/* prologue: function */
 1621               	/* frame size = 0 */
 1622 0a9e FC01      		movw r30,r24
 1623               	/* #APP */
 1624               	 ;  417 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 1625 0aa0 F894      		cli
 1626               	 ;  0 "" 2
 1627               	/* #NOAPP */
 1628 0aa2 8181      		ldd r24,Z+1
 1629 0aa4 8823      		tst r24
 1630 0aa6 01F4      		brne .L140
 1631 0aa8 A481      		ldd r26,Z+4
 1632 0aaa B581      		ldd r27,Z+5
 1633 0aac 1C96      		adiw r26,12
 1634 0aae 2D91      		ld r18,X+
 1635 0ab0 3C91      		ld r19,X
 1636 0ab2 1D97      		sbiw r26,12+1
 1637 0ab4 1A96      		adiw r26,10
 1638 0ab6 8D91      		ld r24,X+
 1639 0ab8 9C91      		ld r25,X
 1640 0aba 1B97      		sbiw r26,10+1
 1641 0abc 2817      		cp r18,r24
 1642 0abe 3907      		cpc r19,r25
 1643 0ac0 00F0      		brlo .L137
 1644               	/* #APP */
 1645               	 ;  426 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 1646 0ac2 7894      		sei
 1647               	 ;  0 "" 2
 1648               	/* #NOAPP */
 1649 0ac4 8EE1      		ldi r24,lo8(30)
 1650 0ac6 0895      		ret
 1651               	.L137:
 1652 0ac8 1696      		adiw r26,6
 1653 0aca ED91      		ld r30,X+
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 30


 1654 0acc FC91      		ld r31,X
 1655 0ace 1797      		sbiw r26,6+1
 1656 0ad0 6193      		st Z+,r22
 1657 0ad2 7193      		st Z+,r23
 1658 0ad4 1796      		adiw r26,6+1
 1659 0ad6 FC93      		st X,r31
 1660 0ad8 EE93      		st -X,r30
 1661 0ada 1697      		sbiw r26,6
 1662 0adc 2F5F      		subi r18,lo8(-(1))
 1663 0ade 3F4F      		sbci r19,hi8(-(1))
 1664 0ae0 1D96      		adiw r26,12+1
 1665 0ae2 3C93      		st X,r19
 1666 0ae4 2E93      		st -X,r18
 1667 0ae6 1C97      		sbiw r26,12
 1668 0ae8 1496      		adiw r26,4
 1669 0aea 8D91      		ld r24,X+
 1670 0aec 9C91      		ld r25,X
 1671 0aee 1597      		sbiw r26,4+1
 1672 0af0 E817      		cp r30,r24
 1673 0af2 F907      		cpc r31,r25
 1674 0af4 01F0      		breq .L141
 1675               	.L138:
 1676               	/* #APP */
 1677               	 ;  434 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 1678 0af6 7894      		sei
 1679               	 ;  0 "" 2
 1680               	/* #NOAPP */
 1681 0af8 80E0      		ldi r24,lo8(0)
 1682 0afa 0895      		ret
 1683               	.L140:
 1684 0afc CF01      		movw r24,r30
 1685 0afe 44E0      		ldi r20,lo8(4)
 1686 0b00 0E94 0000 		call OS_EventTaskRdy
 1687               	/* #APP */
 1688               	 ;  420 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 1689 0b04 7894      		sei
 1690               	 ;  0 "" 2
 1691               	/* #NOAPP */
 1692 0b06 0E94 0000 		call OS_Sched
 1693 0b0a 80E0      		ldi r24,lo8(0)
 1694 0b0c 0895      		ret
 1695               	.L141:
 1696 0b0e 1296      		adiw r26,2
 1697 0b10 8D91      		ld r24,X+
 1698 0b12 9C91      		ld r25,X
 1699 0b14 1397      		sbiw r26,2+1
 1700 0b16 1796      		adiw r26,6+1
 1701 0b18 9C93      		st X,r25
 1702 0b1a 8E93      		st -X,r24
 1703 0b1c 1697      		sbiw r26,6
 1704 0b1e 00C0      		rjmp .L138
 1705               		.size	OSQPost, .-OSQPost
 1706               	.global	OSQPend
 1707               		.type	OSQPend, @function
 1708               	OSQPend:
 1709 0b20 EF92      		push r14
 1710 0b22 FF92      		push r15
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 31


 1711 0b24 0F93      		push r16
 1712 0b26 1F93      		push r17
 1713 0b28 CF93      		push r28
 1714 0b2a DF93      		push r29
 1715               	/* prologue: function */
 1716               	/* frame size = 0 */
 1717 0b2c 8C01      		movw r16,r24
 1718 0b2e 7A01      		movw r14,r20
 1719 0b30 8091 0000 		lds r24,OSIntNesting
 1720 0b34 8823      		tst r24
 1721 0b36 01F0      		breq .+2
 1722 0b38 00C0      		rjmp .L149
 1723               	/* #APP */
 1724               	 ;  346 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 1725 0b3a F894      		cli
 1726               	 ;  0 "" 2
 1727               	/* #NOAPP */
 1728 0b3c F801      		movw r30,r16
 1729 0b3e A481      		ldd r26,Z+4
 1730 0b40 B581      		ldd r27,Z+5
 1731 0b42 1C96      		adiw r26,12
 1732 0b44 8D91      		ld r24,X+
 1733 0b46 9C91      		ld r25,X
 1734 0b48 1D97      		sbiw r26,12+1
 1735 0b4a 0097      		sbiw r24,0
 1736 0b4c 01F0      		breq .L145
 1737 0b4e 1896      		adiw r26,8
 1738 0b50 ED91      		ld r30,X+
 1739 0b52 FC91      		ld r31,X
 1740 0b54 1997      		sbiw r26,8+1
 1741 0b56 C191      		ld r28,Z+
 1742 0b58 D191      		ld r29,Z+
 1743 0b5a 1996      		adiw r26,8+1
 1744 0b5c FC93      		st X,r31
 1745 0b5e EE93      		st -X,r30
 1746 0b60 1897      		sbiw r26,8
 1747 0b62 0197      		sbiw r24,1
 1748 0b64 1D96      		adiw r26,12+1
 1749 0b66 9C93      		st X,r25
 1750 0b68 8E93      		st -X,r24
 1751 0b6a 1C97      		sbiw r26,12
 1752 0b6c 1496      		adiw r26,4
 1753 0b6e 8D91      		ld r24,X+
 1754 0b70 9C91      		ld r25,X
 1755 0b72 1597      		sbiw r26,4+1
 1756 0b74 E817      		cp r30,r24
 1757 0b76 F907      		cpc r31,r25
 1758 0b78 01F0      		breq .L150
 1759               	.L146:
 1760               	/* #APP */
 1761               	 ;  354 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 1762 0b7a 7894      		sei
 1763               	 ;  0 "" 2
 1764               	/* #NOAPP */
 1765 0b7c F701      		movw r30,r14
 1766 0b7e 1082      		st Z,__zero_reg__
 1767               	.L144:
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 32


 1768 0b80 CE01      		movw r24,r28
 1769               	/* epilogue start */
 1770 0b82 DF91      		pop r29
 1771 0b84 CF91      		pop r28
 1772 0b86 1F91      		pop r17
 1773 0b88 0F91      		pop r16
 1774 0b8a FF90      		pop r15
 1775 0b8c EF90      		pop r14
 1776 0b8e 0895      		ret
 1777               	.L145:
 1778 0b90 E091 0000 		lds r30,OSTCBCur
 1779 0b94 F091 0000 		lds r31,(OSTCBCur)+1
 1780 0b98 8585      		ldd r24,Z+13
 1781 0b9a 8460      		ori r24,lo8(4)
 1782 0b9c 8587      		std Z+13,r24
 1783 0b9e 7487      		std Z+12,r23
 1784 0ba0 6387      		std Z+11,r22
 1785 0ba2 C801      		movw r24,r16
 1786 0ba4 0E94 0000 		call OS_EventTaskWait
 1787               	/* #APP */
 1788               	 ;  361 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 1789 0ba8 7894      		sei
 1790               	 ;  0 "" 2
 1791               	/* #NOAPP */
 1792 0baa 0E94 0000 		call OS_Sched
 1793               	/* #APP */
 1794               	 ;  363 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 1795 0bae F894      		cli
 1796               	 ;  0 "" 2
 1797               	/* #NOAPP */
 1798 0bb0 E091 0000 		lds r30,OSTCBCur
 1799 0bb4 F091 0000 		lds r31,(OSTCBCur)+1
 1800 0bb8 C085      		ldd r28,Z+8
 1801 0bba D185      		ldd r29,Z+9
 1802 0bbc 2097      		sbiw r28,0
 1803 0bbe 01F0      		breq .L147
 1804 0bc0 1186      		std Z+9,__zero_reg__
 1805 0bc2 1086      		std Z+8,__zero_reg__
 1806 0bc4 1586      		std Z+13,__zero_reg__
 1807 0bc6 1782      		std Z+7,__zero_reg__
 1808 0bc8 1682      		std Z+6,__zero_reg__
 1809               	/* #APP */
 1810               	 ;  369 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 1811 0bca 7894      		sei
 1812               	 ;  0 "" 2
 1813               	/* #NOAPP */
 1814 0bcc F701      		movw r30,r14
 1815 0bce 1082      		st Z,__zero_reg__
 1816 0bd0 CE01      		movw r24,r28
 1817 0bd2 DF91      		pop r29
 1818 0bd4 CF91      		pop r28
 1819 0bd6 1F91      		pop r17
 1820 0bd8 0F91      		pop r16
 1821 0bda FF90      		pop r15
 1822 0bdc EF90      		pop r14
 1823 0bde 0895      		ret
 1824               	.L150:
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 33


 1825 0be0 1296      		adiw r26,2
 1826 0be2 8D91      		ld r24,X+
 1827 0be4 9C91      		ld r25,X
 1828 0be6 1397      		sbiw r26,2+1
 1829 0be8 1996      		adiw r26,8+1
 1830 0bea 9C93      		st X,r25
 1831 0bec 8E93      		st -X,r24
 1832 0bee 1897      		sbiw r26,8
 1833 0bf0 00C0      		rjmp .L146
 1834               	.L149:
 1835 0bf2 82E0      		ldi r24,lo8(2)
 1836 0bf4 FA01      		movw r30,r20
 1837 0bf6 8083      		st Z,r24
 1838 0bf8 C0E0      		ldi r28,lo8(0)
 1839 0bfa D0E0      		ldi r29,hi8(0)
 1840 0bfc 00C0      		rjmp .L144
 1841               	.L147:
 1842 0bfe C801      		movw r24,r16
 1843 0c00 0E94 0000 		call OS_EventTO
 1844               	/* #APP */
 1845               	 ;  374 "C:/RTOS_PORTING/lab2/source/os_q.c" 1
 1846 0c04 7894      		sei
 1847               	 ;  0 "" 2
 1848               	/* #NOAPP */
 1849 0c06 8AE0      		ldi r24,lo8(10)
 1850 0c08 F701      		movw r30,r14
 1851 0c0a 8083      		st Z,r24
 1852 0c0c 00C0      		rjmp .L144
 1853               		.size	OSQPend, .-OSQPend
 1854               	.global	OSMboxPost
 1855               		.type	OSMboxPost, @function
 1856               	OSMboxPost:
 1857               	/* prologue: function */
 1858               	/* frame size = 0 */
 1859 0c0e FC01      		movw r30,r24
 1860               	/* #APP */
 1861               	 ;  328 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 1862 0c10 F894      		cli
 1863               	 ;  0 "" 2
 1864               	/* #NOAPP */
 1865 0c12 8181      		ldd r24,Z+1
 1866 0c14 8823      		tst r24
 1867 0c16 01F4      		brne .L156
 1868 0c18 8481      		ldd r24,Z+4
 1869 0c1a 9581      		ldd r25,Z+5
 1870 0c1c 892B      		or r24,r25
 1871 0c1e 01F0      		breq .L154
 1872               	/* #APP */
 1873               	 ;  336 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 1874 0c20 7894      		sei
 1875               	 ;  0 "" 2
 1876               	/* #NOAPP */
 1877 0c22 84E1      		ldi r24,lo8(20)
 1878 0c24 0895      		ret
 1879               	.L156:
 1880 0c26 CF01      		movw r24,r30
 1881 0c28 42E0      		ldi r20,lo8(2)
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 34


 1882 0c2a 0E94 0000 		call OS_EventTaskRdy
 1883               	/* #APP */
 1884               	 ;  331 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 1885 0c2e 7894      		sei
 1886               	 ;  0 "" 2
 1887               	/* #NOAPP */
 1888 0c30 0E94 0000 		call OS_Sched
 1889 0c34 80E0      		ldi r24,lo8(0)
 1890 0c36 0895      		ret
 1891               	.L154:
 1892 0c38 7583      		std Z+5,r23
 1893 0c3a 6483      		std Z+4,r22
 1894               	/* #APP */
 1895               	 ;  340 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 1896 0c3c 7894      		sei
 1897               	 ;  0 "" 2
 1898               	/* #NOAPP */
 1899 0c3e 80E0      		ldi r24,lo8(0)
 1900 0c40 0895      		ret
 1901               		.size	OSMboxPost, .-OSMboxPost
 1902               	.global	OSMboxPend
 1903               		.type	OSMboxPend, @function
 1904               	OSMboxPend:
 1905 0c42 EF92      		push r14
 1906 0c44 FF92      		push r15
 1907 0c46 0F93      		push r16
 1908 0c48 1F93      		push r17
 1909 0c4a CF93      		push r28
 1910 0c4c DF93      		push r29
 1911               	/* prologue: function */
 1912               	/* frame size = 0 */
 1913 0c4e 8C01      		movw r16,r24
 1914 0c50 7A01      		movw r14,r20
 1915 0c52 8091 0000 		lds r24,OSIntNesting
 1916 0c56 8823      		tst r24
 1917 0c58 01F4      		brne .L163
 1918               	/* #APP */
 1919               	 ;  260 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 1920 0c5a F894      		cli
 1921               	 ;  0 "" 2
 1922               	/* #NOAPP */
 1923 0c5c F801      		movw r30,r16
 1924 0c5e C481      		ldd r28,Z+4
 1925 0c60 D581      		ldd r29,Z+5
 1926 0c62 2097      		sbiw r28,0
 1927 0c64 01F0      		breq .L160
 1928 0c66 1582      		std Z+5,__zero_reg__
 1929 0c68 1482      		std Z+4,__zero_reg__
 1930               	/* #APP */
 1931               	 ;  264 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 1932 0c6a 7894      		sei
 1933               	 ;  0 "" 2
 1934               	/* #NOAPP */
 1935 0c6c FA01      		movw r30,r20
 1936 0c6e 1082      		st Z,__zero_reg__
 1937               	.L159:
 1938 0c70 CE01      		movw r24,r28
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 35


 1939               	/* epilogue start */
 1940 0c72 DF91      		pop r29
 1941 0c74 CF91      		pop r28
 1942 0c76 1F91      		pop r17
 1943 0c78 0F91      		pop r16
 1944 0c7a FF90      		pop r15
 1945 0c7c EF90      		pop r14
 1946 0c7e 0895      		ret
 1947               	.L160:
 1948 0c80 E091 0000 		lds r30,OSTCBCur
 1949 0c84 F091 0000 		lds r31,(OSTCBCur)+1
 1950 0c88 8585      		ldd r24,Z+13
 1951 0c8a 8260      		ori r24,lo8(2)
 1952 0c8c 8587      		std Z+13,r24
 1953 0c8e 7487      		std Z+12,r23
 1954 0c90 6387      		std Z+11,r22
 1955 0c92 C801      		movw r24,r16
 1956 0c94 0E94 0000 		call OS_EventTaskWait
 1957               	/* #APP */
 1958               	 ;  271 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 1959 0c98 7894      		sei
 1960               	 ;  0 "" 2
 1961               	/* #NOAPP */
 1962 0c9a 0E94 0000 		call OS_Sched
 1963               	/* #APP */
 1964               	 ;  273 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 1965 0c9e F894      		cli
 1966               	 ;  0 "" 2
 1967               	/* #NOAPP */
 1968 0ca0 E091 0000 		lds r30,OSTCBCur
 1969 0ca4 F091 0000 		lds r31,(OSTCBCur)+1
 1970 0ca8 C085      		ldd r28,Z+8
 1971 0caa D185      		ldd r29,Z+9
 1972 0cac 2097      		sbiw r28,0
 1973 0cae 01F0      		breq .L161
 1974 0cb0 1186      		std Z+9,__zero_reg__
 1975 0cb2 1086      		std Z+8,__zero_reg__
 1976 0cb4 1586      		std Z+13,__zero_reg__
 1977 0cb6 1782      		std Z+7,__zero_reg__
 1978 0cb8 1682      		std Z+6,__zero_reg__
 1979               	/* #APP */
 1980               	 ;  279 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 1981 0cba 7894      		sei
 1982               	 ;  0 "" 2
 1983               	/* #NOAPP */
 1984 0cbc F701      		movw r30,r14
 1985 0cbe 1082      		st Z,__zero_reg__
 1986 0cc0 00C0      		rjmp .L159
 1987               	.L163:
 1988 0cc2 82E0      		ldi r24,lo8(2)
 1989 0cc4 FA01      		movw r30,r20
 1990 0cc6 8083      		st Z,r24
 1991 0cc8 C0E0      		ldi r28,lo8(0)
 1992 0cca D0E0      		ldi r29,hi8(0)
 1993 0ccc 00C0      		rjmp .L159
 1994               	.L161:
 1995 0cce C801      		movw r24,r16
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 36


 1996 0cd0 0E94 0000 		call OS_EventTO
 1997               	/* #APP */
 1998               	 ;  284 "C:/RTOS_PORTING/lab2/source/os_mbox.c" 1
 1999 0cd4 7894      		sei
 2000               	 ;  0 "" 2
 2001               	/* #NOAPP */
 2002 0cd6 8AE0      		ldi r24,lo8(10)
 2003 0cd8 F701      		movw r30,r14
 2004 0cda 8083      		st Z,r24
 2005 0cdc 00C0      		rjmp .L159
 2006               		.size	OSMboxPend, .-OSMboxPend
 2007               	.global	OSFlagPost
 2008               		.type	OSFlagPost, @function
 2009               	OSFlagPost:
 2010 0cde CF92      		push r12
 2011 0ce0 DF92      		push r13
 2012 0ce2 EF92      		push r14
 2013 0ce4 FF92      		push r15
 2014 0ce6 0F93      		push r16
 2015 0ce8 1F93      		push r17
 2016 0cea DF93      		push r29
 2017 0cec CF93      		push r28
 2018 0cee 0F92      		push __tmp_reg__
 2019 0cf0 CDB7      		in r28,__SP_L__
 2020 0cf2 DEB7      		in r29,__SP_H__
 2021               	/* prologue: function */
 2022               	/* frame size = 1 */
 2023 0cf4 8C01      		movw r16,r24
 2024 0cf6 7901      		movw r14,r18
 2025               	/* #APP */
 2026               	 ;  577 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2027 0cf8 F894      		cli
 2028               	 ;  0 "" 2
 2029               	/* #NOAPP */
 2030 0cfa 4423      		tst r20
 2031 0cfc 01F0      		breq .+2
 2032 0cfe 00C0      		rjmp .L183
 2033 0d00 6095      		com r22
 2034 0d02 FC01      		movw r30,r24
 2035 0d04 8381      		ldd r24,Z+3
 2036 0d06 8623      		and r24,r22
 2037 0d08 8383      		std Z+3,r24
 2038               	.L168:
 2039 0d0a F801      		movw r30,r16
 2040 0d0c C180      		ldd r12,Z+1
 2041 0d0e D280      		ldd r13,Z+2
 2042 0d10 C114      		cp r12,__zero_reg__
 2043 0d12 D104      		cpc r13,__zero_reg__
 2044 0d14 01F4      		brne .+2
 2045 0d16 00C0      		rjmp .L184
 2046 0d18 1982      		std Y+1,__zero_reg__
 2047 0d1a 00C0      		rjmp .L176
 2048               	.L186:
 2049 0d1c 8330      		cpi r24,lo8(3)
 2050 0d1e 01F0      		breq .L185
 2051               	.L172:
 2052 0d20 F601      		movw r30,r12
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 37


 2053 0d22 8081      		ld r24,Z
 2054 0d24 9181      		ldd r25,Z+1
 2055 0d26 9C01      		movw r18,r24
 2056 0d28 6901      		movw r12,r18
 2057 0d2a 2115      		cp r18,__zero_reg__
 2058 0d2c 3105      		cpc r19,__zero_reg__
 2059 0d2e 01F0      		breq .L171
 2060               	.L176:
 2061 0d30 F601      		movw r30,r12
 2062 0d32 8185      		ldd r24,Z+9
 2063 0d34 8230      		cpi r24,lo8(2)
 2064 0d36 01F4      		brne .L186
 2065 0d38 F601      		movw r30,r12
 2066 0d3a 6085      		ldd r22,Z+8
 2067 0d3c F801      		movw r30,r16
 2068 0d3e 8381      		ldd r24,Z+3
 2069 0d40 8623      		and r24,r22
 2070 0d42 6817      		cp r22,r24
 2071 0d44 01F4      		brne .L172
 2072 0d46 C601      		movw r24,r12
 2073 0d48 0E94 0000 		call OS_FlagTaskRdy
 2074 0d4c 8130      		cpi r24,lo8(1)
 2075 0d4e 01F4      		brne .L172
 2076               	.L188:
 2077 0d50 F1E0      		ldi r31,lo8(1)
 2078 0d52 F983      		std Y+1,r31
 2079 0d54 F601      		movw r30,r12
 2080 0d56 8081      		ld r24,Z
 2081 0d58 9181      		ldd r25,Z+1
 2082 0d5a 9C01      		movw r18,r24
 2083 0d5c 6901      		movw r12,r18
 2084 0d5e 2115      		cp r18,__zero_reg__
 2085 0d60 3105      		cpc r19,__zero_reg__
 2086 0d62 01F4      		brne .L176
 2087               	.L171:
 2088               	/* #APP */
 2089               	 ;  636 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2090 0d64 7894      		sei
 2091               	 ;  0 "" 2
 2092               	/* #NOAPP */
 2093 0d66 F981      		ldd r31,Y+1
 2094 0d68 F130      		cpi r31,lo8(1)
 2095 0d6a 01F0      		breq .L187
 2096               	.L177:
 2097               	/* #APP */
 2098               	 ;  640 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2099 0d6c F894      		cli
 2100               	 ;  0 "" 2
 2101               	/* #NOAPP */
 2102 0d6e F801      		movw r30,r16
 2103 0d70 8381      		ldd r24,Z+3
 2104               	/* #APP */
 2105               	 ;  642 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2106 0d72 7894      		sei
 2107               	 ;  0 "" 2
 2108               	/* #NOAPP */
 2109 0d74 F701      		movw r30,r14
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 38


 2110 0d76 1082      		st Z,__zero_reg__
 2111               	.L169:
 2112               	/* epilogue start */
 2113 0d78 0F90      		pop __tmp_reg__
 2114 0d7a CF91      		pop r28
 2115 0d7c DF91      		pop r29
 2116 0d7e 1F91      		pop r17
 2117 0d80 0F91      		pop r16
 2118 0d82 FF90      		pop r15
 2119 0d84 EF90      		pop r14
 2120 0d86 DF90      		pop r13
 2121 0d88 CF90      		pop r12
 2122 0d8a 0895      		ret
 2123               	.L185:
 2124 0d8c F601      		movw r30,r12
 2125 0d8e 6085      		ldd r22,Z+8
 2126 0d90 F801      		movw r30,r16
 2127 0d92 8381      		ldd r24,Z+3
 2128 0d94 6823      		and r22,r24
 2129 0d96 01F4      		brne .+2
 2130 0d98 00C0      		rjmp .L172
 2131 0d9a C601      		movw r24,r12
 2132 0d9c 0E94 0000 		call OS_FlagTaskRdy
 2133 0da0 8130      		cpi r24,lo8(1)
 2134 0da2 01F0      		breq .+2
 2135 0da4 00C0      		rjmp .L172
 2136 0da6 00C0      		rjmp .L188
 2137               	.L183:
 2138 0da8 4130      		cpi r20,lo8(1)
 2139 0daa 01F0      		breq .L189
 2140               	/* #APP */
 2141               	 ;  588 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2142 0dac 7894      		sei
 2143               	 ;  0 "" 2
 2144               	/* #NOAPP */
 2145 0dae 89E9      		ldi r24,lo8(-103)
 2146 0db0 F901      		movw r30,r18
 2147 0db2 8083      		st Z,r24
 2148 0db4 80E0      		ldi r24,lo8(0)
 2149 0db6 00C0      		rjmp .L169
 2150               	.L189:
 2151 0db8 FC01      		movw r30,r24
 2152 0dba 8381      		ldd r24,Z+3
 2153 0dbc 862B      		or r24,r22
 2154 0dbe 8383      		std Z+3,r24
 2155 0dc0 00C0      		rjmp .L168
 2156               	.L187:
 2157 0dc2 0E94 0000 		call OS_Sched
 2158 0dc6 00C0      		rjmp .L177
 2159               	.L184:
 2160 0dc8 1982      		std Y+1,__zero_reg__
 2161 0dca 00C0      		rjmp .L171
 2162               		.size	OSFlagPost, .-OSFlagPost
 2163               	.global	OSFlagPend
 2164               		.type	OSFlagPend, @function
 2165               	OSFlagPend:
 2166 0dcc 8F92      		push r8
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 39


 2167 0dce 9F92      		push r9
 2168 0dd0 AF92      		push r10
 2169 0dd2 BF92      		push r11
 2170 0dd4 CF92      		push r12
 2171 0dd6 DF92      		push r13
 2172 0dd8 FF92      		push r15
 2173 0dda 0F93      		push r16
 2174 0ddc 1F93      		push r17
 2175 0dde DF93      		push r29
 2176 0de0 CF93      		push r28
 2177 0de2 CDB7      		in r28,__SP_L__
 2178 0de4 DEB7      		in r29,__SP_H__
 2179 0de6 2B97      		sbiw r28,11
 2180 0de8 0FB6      		in __tmp_reg__,__SREG__
 2181 0dea F894      		cli
 2182 0dec DEBF      		out __SP_H__,r29
 2183 0dee 0FBE      		out __SREG__,__tmp_reg__
 2184 0df0 CDBF      		out __SP_L__,r28
 2185               	/* prologue: function */
 2186               	/* frame size = 11 */
 2187 0df2 6C01      		movw r12,r24
 2188 0df4 562F      		mov r21,r22
 2189 0df6 F42E      		mov r15,r20
 2190 0df8 F901      		movw r30,r18
 2191 0dfa 5801      		movw r10,r16
 2192 0dfc 8091 0000 		lds r24,OSIntNesting
 2193 0e00 8823      		tst r24
 2194 0e02 01F4      		brne .L212
 2195 0e04 47FD      		sbrc r20,7
 2196 0e06 00C0      		rjmp .L193
 2197 0e08 1B86      		std Y+11,__zero_reg__
 2198               	/* #APP */
 2199               	 ;  409 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2200 0e0a F894      		cli
 2201               	 ;  0 "" 2
 2202               	/* #NOAPP */
 2203 0e0c 82E0      		ldi r24,lo8(2)
 2204 0e0e F816      		cp r15,r24
 2205 0e10 01F0      		breq .L196
 2206               	.L214:
 2207 0e12 A3E0      		ldi r26,lo8(3)
 2208 0e14 FA16      		cp r15,r26
 2209 0e16 01F0      		breq .L213
 2210               	/* #APP */
 2211               	 ;  478 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2212 0e18 7894      		sei
 2213               	 ;  0 "" 2
 2214               	/* #NOAPP */
 2215 0e1a 87E9      		ldi r24,lo8(-105)
 2216 0e1c F501      		movw r30,r10
 2217 0e1e 8083      		st Z,r24
 2218 0e20 80E0      		ldi r24,lo8(0)
 2219               	.L192:
 2220               	/* epilogue start */
 2221 0e22 2B96      		adiw r28,11
 2222 0e24 0FB6      		in __tmp_reg__,__SREG__
 2223 0e26 F894      		cli
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 40


 2224 0e28 DEBF      		out __SP_H__,r29
 2225 0e2a 0FBE      		out __SREG__,__tmp_reg__
 2226 0e2c CDBF      		out __SP_L__,r28
 2227 0e2e CF91      		pop r28
 2228 0e30 DF91      		pop r29
 2229 0e32 1F91      		pop r17
 2230 0e34 0F91      		pop r16
 2231 0e36 FF90      		pop r15
 2232 0e38 DF90      		pop r13
 2233 0e3a CF90      		pop r12
 2234 0e3c BF90      		pop r11
 2235 0e3e AF90      		pop r10
 2236 0e40 9F90      		pop r9
 2237 0e42 8F90      		pop r8
 2238 0e44 0895      		ret
 2239               	.L212:
 2240 0e46 82E0      		ldi r24,lo8(2)
 2241 0e48 D801      		movw r26,r16
 2242 0e4a 8C93      		st X,r24
 2243 0e4c 80E0      		ldi r24,lo8(0)
 2244 0e4e 00C0      		rjmp .L192
 2245               	.L193:
 2246 0e50 BFE7      		ldi r27,lo8(127)
 2247 0e52 FB22      		and r15,r27
 2248 0e54 21E0      		ldi r18,lo8(1)
 2249 0e56 2B87      		std Y+11,r18
 2250               	/* #APP */
 2251               	 ;  409 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2252 0e58 F894      		cli
 2253               	 ;  0 "" 2
 2254               	/* #NOAPP */
 2255 0e5a 82E0      		ldi r24,lo8(2)
 2256 0e5c F816      		cp r15,r24
 2257 0e5e 01F4      		brne .L214
 2258               	.L196:
 2259 0e60 D601      		movw r26,r12
 2260 0e62 1396      		adiw r26,3
 2261 0e64 9C91      		ld r25,X
 2262 0e66 852F      		mov r24,r21
 2263 0e68 8923      		and r24,r25
 2264 0e6a 8517      		cp r24,r21
 2265 0e6c 01F4      		brne .L198
 2266 0e6e BB85      		ldd r27,Y+11
 2267 0e70 B130      		cpi r27,lo8(1)
 2268 0e72 01F4      		brne .L199
 2269 0e74 852F      		mov r24,r21
 2270 0e76 8095      		com r24
 2271 0e78 8923      		and r24,r25
 2272 0e7a F601      		movw r30,r12
 2273 0e7c 8383      		std Z+3,r24
 2274 0e7e 982F      		mov r25,r24
 2275               	.L199:
 2276 0e80 892F      		mov r24,r25
 2277               	/* #APP */
 2278               	 ;  418 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2279 0e82 7894      		sei
 2280               	 ;  0 "" 2
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 41


 2281               	/* #NOAPP */
 2282 0e84 D501      		movw r26,r10
 2283 0e86 1C92      		st X,__zero_reg__
 2284 0e88 00C0      		rjmp .L192
 2285               	.L213:
 2286 0e8a D601      		movw r26,r12
 2287 0e8c 1396      		adiw r26,3
 2288 0e8e 9C91      		ld r25,X
 2289 0e90 852F      		mov r24,r21
 2290 0e92 8923      		and r24,r25
 2291 0e94 01F0      		breq .L201
 2292 0e96 BB85      		ldd r27,Y+11
 2293 0e98 B130      		cpi r27,lo8(1)
 2294 0e9a 01F4      		brne .L202
 2295 0e9c 8095      		com r24
 2296 0e9e 8923      		and r24,r25
 2297 0ea0 F601      		movw r30,r12
 2298 0ea2 8383      		std Z+3,r24
 2299 0ea4 982F      		mov r25,r24
 2300               	.L202:
 2301 0ea6 892F      		mov r24,r25
 2302               	/* #APP */
 2303               	 ;  434 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2304 0ea8 7894      		sei
 2305               	 ;  0 "" 2
 2306               	/* #NOAPP */
 2307 0eaa D501      		movw r26,r10
 2308 0eac 1C92      		st X,__zero_reg__
 2309 0eae 00C0      		rjmp .L192
 2310               	.L198:
 2311 0eb0 C601      		movw r24,r12
 2312 0eb2 4E01      		movw r8,r28
 2313 0eb4 0894      		sec
 2314 0eb6 811C      		adc r8,__zero_reg__
 2315 0eb8 911C      		adc r9,__zero_reg__
 2316 0eba B401      		movw r22,r8
 2317 0ebc 452F      		mov r20,r21
 2318 0ebe 22E0      		ldi r18,lo8(2)
 2319 0ec0 8F01      		movw r16,r30
 2320 0ec2 0E94 0000 		call OS_FlagBlock
 2321               	/* #APP */
 2322               	 ;  423 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2323 0ec6 7894      		sei
 2324               	 ;  0 "" 2
 2325               	/* #NOAPP */
 2326               	.L200:
 2327 0ec8 0E94 0000 		call OS_Sched
 2328               	/* #APP */
 2329               	 ;  484 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2330 0ecc F894      		cli
 2331               	 ;  0 "" 2
 2332               	/* #NOAPP */
 2333 0ece E091 0000 		lds r30,OSTCBCur
 2334 0ed2 F091 0000 		lds r31,(OSTCBCur)+1
 2335 0ed6 8585      		ldd r24,Z+13
 2336 0ed8 85FD      		sbrc r24,5
 2337 0eda 00C0      		rjmp .L215
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 42


 2338 0edc BB85      		ldd r27,Y+11
 2339 0ede B130      		cpi r27,lo8(1)
 2340 0ee0 01F0      		breq .L210
 2341 0ee2 F601      		movw r30,r12
 2342 0ee4 9381      		ldd r25,Z+3
 2343               	.L204:
 2344 0ee6 892F      		mov r24,r25
 2345               	/* #APP */
 2346               	 ;  508 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2347 0ee8 7894      		sei
 2348               	 ;  0 "" 2
 2349               	/* #NOAPP */
 2350 0eea D501      		movw r26,r10
 2351 0eec 1C92      		st X,__zero_reg__
 2352 0eee 00C0      		rjmp .L192
 2353               	.L201:
 2354 0ef0 C601      		movw r24,r12
 2355 0ef2 4E01      		movw r8,r28
 2356 0ef4 0894      		sec
 2357 0ef6 811C      		adc r8,__zero_reg__
 2358 0ef8 911C      		adc r9,__zero_reg__
 2359 0efa B401      		movw r22,r8
 2360 0efc 452F      		mov r20,r21
 2361 0efe 23E0      		ldi r18,lo8(3)
 2362 0f00 8F01      		movw r16,r30
 2363 0f02 0E94 0000 		call OS_FlagBlock
 2364               	/* #APP */
 2365               	 ;  439 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2366 0f06 7894      		sei
 2367               	 ;  0 "" 2
 2368               	/* #NOAPP */
 2369 0f08 00C0      		rjmp .L200
 2370               	.L215:
 2371 0f0a C401      		movw r24,r8
 2372 0f0c 0E94 0000 		call OS_FlagUnlink
 2373 0f10 E091 0000 		lds r30,OSTCBCur
 2374 0f14 F091 0000 		lds r31,(OSTCBCur)+1
 2375 0f18 1586      		std Z+13,__zero_reg__
 2376               	/* #APP */
 2377               	 ;  488 "C:/RTOS_PORTING/lab2/source/os_flag.c" 1
 2378 0f1a 7894      		sei
 2379               	 ;  0 "" 2
 2380               	/* #NOAPP */
 2381 0f1c 8AE0      		ldi r24,lo8(10)
 2382 0f1e D501      		movw r26,r10
 2383 0f20 8C93      		st X,r24
 2384 0f22 80E0      		ldi r24,lo8(0)
 2385 0f24 00C0      		rjmp .L192
 2386               	.L210:
 2387 0f26 2EEF      		ldi r18,lo8(-2)
 2388 0f28 F20E      		add r15,r18
 2389 0f2a 81E0      		ldi r24,lo8(1)
 2390 0f2c 8F15      		cp r24,r15
 2391 0f2e 00F4      		brsh .L211
 2392 0f30 D601      		movw r26,r12
 2393 0f32 1396      		adiw r26,3
 2394 0f34 9C91      		ld r25,X
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 43


 2395 0f36 00C0      		rjmp .L204
 2396               	.L211:
 2397 0f38 8285      		ldd r24,Z+10
 2398 0f3a 8095      		com r24
 2399 0f3c F601      		movw r30,r12
 2400 0f3e 9381      		ldd r25,Z+3
 2401 0f40 9823      		and r25,r24
 2402 0f42 9383      		std Z+3,r25
 2403 0f44 00C0      		rjmp .L204
 2404               		.size	OSFlagPend, .-OSFlagPend
 2405               	.global	OSSchedUnlock
 2406               		.type	OSSchedUnlock, @function
 2407               	OSSchedUnlock:
 2408               	/* prologue: function */
 2409               	/* frame size = 0 */
 2410 0f46 8091 0000 		lds r24,OSRunning
 2411 0f4a 8130      		cpi r24,lo8(1)
 2412 0f4c 01F0      		breq .L221
 2413 0f4e 0895      		ret
 2414               	.L221:
 2415               	/* #APP */
 2416               	 ;  256 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 2417 0f50 F894      		cli
 2418               	 ;  0 "" 2
 2419               	/* #NOAPP */
 2420 0f52 8091 0000 		lds r24,OSLockNesting
 2421 0f56 8823      		tst r24
 2422 0f58 01F0      		breq .L218
 2423 0f5a 8150      		subi r24,lo8(-(-1))
 2424 0f5c 8093 0000 		sts OSLockNesting,r24
 2425 0f60 8823      		tst r24
 2426 0f62 01F4      		brne .L219
 2427 0f64 8091 0000 		lds r24,OSIntNesting
 2428 0f68 8823      		tst r24
 2429 0f6a 01F0      		breq .L222
 2430               	.L219:
 2431               	/* #APP */
 2432               	 ;  263 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 2433 0f6c 7894      		sei
 2434               	 ;  0 "" 2
 2435               	/* #NOAPP */
 2436 0f6e 0895      		ret
 2437               	.L218:
 2438               	/* #APP */
 2439               	 ;  266 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 2440 0f70 7894      		sei
 2441               	 ;  0 "" 2
 2442               	/* #NOAPP */
 2443 0f72 0895      		ret
 2444               	.L222:
 2445               	/* #APP */
 2446               	 ;  260 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 2447 0f74 7894      		sei
 2448               	 ;  0 "" 2
 2449               	/* #NOAPP */
 2450 0f76 0E94 0000 		call OS_Sched
 2451 0f7a 0895      		ret
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 44


 2452               		.size	OSSchedUnlock, .-OSSchedUnlock
 2453               	.global	OSTimeTick
 2454               		.type	OSTimeTick, @function
 2455               	OSTimeTick:
 2456               	/* prologue: function */
 2457               	/* frame size = 0 */
 2458 0f7c 0E94 0000 		call OSTimeTickHook
 2459 0f80 8091 0000 		lds r24,OSRunning
 2460 0f84 8130      		cpi r24,lo8(1)
 2461 0f86 01F0      		breq .L230
 2462               	.L228:
 2463 0f88 0895      		ret
 2464               	.L230:
 2465 0f8a A091 0000 		lds r26,OSTCBList
 2466 0f8e B091 0000 		lds r27,(OSTCBList)+1
 2467 0f92 1E96      		adiw r26,14
 2468 0f94 8C91      		ld r24,X
 2469 0f96 1E97      		sbiw r26,14
 2470 0f98 8C30      		cpi r24,lo8(12)
 2471 0f9a 01F0      		breq .L228
 2472 0f9c 2091 0000 		lds r18,OSRdyGrp
 2473 0fa0 41E0      		ldi r20,lo8(1)
 2474 0fa2 50E0      		ldi r21,hi8(1)
 2475 0fa4 00C0      		rjmp .L227
 2476               	.L232:
 2477 0fa6 5296      		adiw r26,18
 2478 0fa8 8C91      		ld r24,X
 2479 0faa 5297      		sbiw r26,18
 2480 0fac 282B      		or r18,r24
 2481 0fae 5096      		adiw r26,16
 2482 0fb0 EC91      		ld r30,X
 2483 0fb2 5097      		sbiw r26,16
 2484 0fb4 F0E0      		ldi r31,lo8(0)
 2485 0fb6 E050      		subi r30,lo8(-(OSRdyTbl))
 2486 0fb8 F040      		sbci r31,hi8(-(OSRdyTbl))
 2487 0fba 8081      		ld r24,Z
 2488 0fbc 5196      		adiw r26,17
 2489 0fbe 9C91      		ld r25,X
 2490 0fc0 5197      		sbiw r26,17
 2491 0fc2 892B      		or r24,r25
 2492 0fc4 8083      		st Z,r24
 2493               	.L225:
 2494 0fc6 1296      		adiw r26,2
 2495 0fc8 0D90      		ld __tmp_reg__,X+
 2496 0fca BC91      		ld r27,X
 2497 0fcc A02D      		mov r26,__tmp_reg__
 2498               	/* #APP */
 2499               	 ;  393 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 2500 0fce 7894      		sei
 2501               	 ;  0 "" 2
 2502               	/* #NOAPP */
 2503 0fd0 1E96      		adiw r26,14
 2504 0fd2 8C91      		ld r24,X
 2505 0fd4 1E97      		sbiw r26,14
 2506 0fd6 8C30      		cpi r24,lo8(12)
 2507 0fd8 01F0      		breq .L231
 2508               	.L227:
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 45


 2509               	/* #APP */
 2510               	 ;  381 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 2511 0fda F894      		cli
 2512               	 ;  0 "" 2
 2513               	/* #NOAPP */
 2514 0fdc 1B96      		adiw r26,11
 2515 0fde 8D91      		ld r24,X+
 2516 0fe0 9C91      		ld r25,X
 2517 0fe2 1C97      		sbiw r26,11+1
 2518 0fe4 0097      		sbiw r24,0
 2519 0fe6 01F0      		breq .L225
 2520 0fe8 0197      		sbiw r24,1
 2521 0fea 1C96      		adiw r26,11+1
 2522 0fec 9C93      		st X,r25
 2523 0fee 8E93      		st -X,r24
 2524 0ff0 1B97      		sbiw r26,11
 2525 0ff2 892B      		or r24,r25
 2526 0ff4 01F4      		brne .L225
 2527 0ff6 1D96      		adiw r26,13
 2528 0ff8 8C91      		ld r24,X
 2529 0ffa 1D97      		sbiw r26,13
 2530 0ffc 83FF      		sbrs r24,3
 2531 0ffe 00C0      		rjmp .L232
 2532 1000 1C96      		adiw r26,11+1
 2533 1002 5C93      		st X,r21
 2534 1004 4E93      		st -X,r20
 2535 1006 1B97      		sbiw r26,11
 2536 1008 00C0      		rjmp .L225
 2537               	.L231:
 2538 100a 2093 0000 		sts OSRdyGrp,r18
 2539 100e 0895      		ret
 2540               		.size	OSTimeTick, .-OSTimeTick
 2541               	.global	OSStart
 2542               		.type	OSStart, @function
 2543               	OSStart:
 2544               	/* prologue: function */
 2545               	/* frame size = 0 */
 2546 1010 8091 0000 		lds r24,OSRunning
 2547 1014 8111      		cpse r24,__zero_reg__
 2548 1016 0895      		ret
 2549               	.L236:
 2550 1018 E091 0000 		lds r30,OSRdyGrp
 2551 101c F0E0      		ldi r31,lo8(0)
 2552 101e E050      		subi r30,lo8(-(OSUnMapTbl))
 2553 1020 F040      		sbci r31,hi8(-(OSUnMapTbl))
 2554 1022 A081      		ld r26,Z
 2555 1024 EA2F      		mov r30,r26
 2556 1026 F0E0      		ldi r31,lo8(0)
 2557 1028 E050      		subi r30,lo8(-(OSRdyTbl))
 2558 102a F040      		sbci r31,hi8(-(OSRdyTbl))
 2559 102c E081      		ld r30,Z
 2560 102e F0E0      		ldi r31,lo8(0)
 2561 1030 E050      		subi r30,lo8(-(OSUnMapTbl))
 2562 1032 F040      		sbci r31,hi8(-(OSUnMapTbl))
 2563 1034 AA0F      		lsl r26
 2564 1036 AA0F      		lsl r26
 2565 1038 AA0F      		lsl r26
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 46


 2566 103a 8081      		ld r24,Z
 2567 103c A80F      		add r26,r24
 2568 103e A093 0000 		sts OSPrioHighRdy,r26
 2569 1042 A093 0000 		sts OSPrioCur,r26
 2570 1046 B0E0      		ldi r27,lo8(0)
 2571 1048 AA0F      		lsl r26
 2572 104a BB1F      		rol r27
 2573 104c A050      		subi r26,lo8(-(OSTCBPrioTbl))
 2574 104e B040      		sbci r27,hi8(-(OSTCBPrioTbl))
 2575 1050 8D91      		ld r24,X+
 2576 1052 9C91      		ld r25,X
 2577 1054 9093 0000 		sts (OSTCBHighRdy)+1,r25
 2578 1058 8093 0000 		sts OSTCBHighRdy,r24
 2579 105c 9093 0000 		sts (OSTCBCur)+1,r25
 2580 1060 8093 0000 		sts OSTCBCur,r24
 2581 1064 0E94 0000 		call OSStartHighRdy
 2582 1068 0895      		ret
 2583               		.size	OSStart, .-OSStart
 2584               	.global	OSIntExit
 2585               		.type	OSIntExit, @function
 2586               	OSIntExit:
 2587               	/* prologue: function */
 2588               	/* frame size = 0 */
 2589 106a 8091 0000 		lds r24,OSRunning
 2590 106e 8130      		cpi r24,lo8(1)
 2591 1070 01F0      		breq .L242
 2592 1072 0895      		ret
 2593               	.L242:
 2594               	/* #APP */
 2595               	 ;  180 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 2596 1074 F894      		cli
 2597               	 ;  0 "" 2
 2598               	/* #NOAPP */
 2599 1076 8091 0000 		lds r24,OSIntNesting
 2600 107a 8823      		tst r24
 2601 107c 01F0      		breq .L239
 2602 107e 8150      		subi r24,lo8(-(-1))
 2603 1080 8093 0000 		sts OSIntNesting,r24
 2604 1084 8823      		tst r24
 2605 1086 01F0      		breq .L239
 2606               	.L240:
 2607               	/* #APP */
 2608               	 ;  193 "C:/RTOS_PORTING/lab2/source/os_core.c" 1
 2609 1088 7894      		sei
 2610               	 ;  0 "" 2
 2611               	/* #NOAPP */
 2612 108a 0895      		ret
 2613               	.L239:
 2614 108c 8091 0000 		lds r24,OSLockNesting
 2615 1090 8823      		tst r24
 2616 1092 01F4      		brne .L240
 2617 1094 E091 0000 		lds r30,OSRdyGrp
 2618 1098 F0E0      		ldi r31,lo8(0)
 2619 109a E050      		subi r30,lo8(-(OSUnMapTbl))
 2620 109c F040      		sbci r31,hi8(-(OSUnMapTbl))
 2621 109e 8081      		ld r24,Z
 2622 10a0 8093 0000 		sts OSIntExitY,r24
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 47


 2623 10a4 E82F      		mov r30,r24
 2624 10a6 F0E0      		ldi r31,lo8(0)
 2625 10a8 E050      		subi r30,lo8(-(OSRdyTbl))
 2626 10aa F040      		sbci r31,hi8(-(OSRdyTbl))
 2627 10ac E081      		ld r30,Z
 2628 10ae F0E0      		ldi r31,lo8(0)
 2629 10b0 E050      		subi r30,lo8(-(OSUnMapTbl))
 2630 10b2 F040      		sbci r31,hi8(-(OSUnMapTbl))
 2631 10b4 982F      		mov r25,r24
 2632 10b6 990F      		lsl r25
 2633 10b8 990F      		lsl r25
 2634 10ba 990F      		lsl r25
 2635 10bc 8081      		ld r24,Z
 2636 10be 980F      		add r25,r24
 2637 10c0 9093 0000 		sts OSPrioHighRdy,r25
 2638 10c4 8091 0000 		lds r24,OSPrioCur
 2639 10c8 9817      		cp r25,r24
 2640 10ca 01F0      		breq .L240
 2641 10cc E92F      		mov r30,r25
 2642 10ce F0E0      		ldi r31,lo8(0)
 2643 10d0 EE0F      		lsl r30
 2644 10d2 FF1F      		rol r31
 2645 10d4 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 2646 10d6 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 2647 10d8 8081      		ld r24,Z
 2648 10da 9181      		ldd r25,Z+1
 2649 10dc 9093 0000 		sts (OSTCBHighRdy)+1,r25
 2650 10e0 8093 0000 		sts OSTCBHighRdy,r24
 2651 10e4 8091 0000 		lds r24,OSCtxSwCtr
 2652 10e8 9091 0000 		lds r25,(OSCtxSwCtr)+1
 2653 10ec A091 0000 		lds r26,(OSCtxSwCtr)+2
 2654 10f0 B091 0000 		lds r27,(OSCtxSwCtr)+3
 2655 10f4 0196      		adiw r24,1
 2656 10f6 A11D      		adc r26,__zero_reg__
 2657 10f8 B11D      		adc r27,__zero_reg__
 2658 10fa 8093 0000 		sts OSCtxSwCtr,r24
 2659 10fe 9093 0000 		sts (OSCtxSwCtr)+1,r25
 2660 1102 A093 0000 		sts (OSCtxSwCtr)+2,r26
 2661 1106 B093 0000 		sts (OSCtxSwCtr)+3,r27
 2662 110a 0E94 0000 		call OSIntCtxSw
 2663 110e 00C0      		rjmp .L240
 2664               		.size	OSIntExit, .-OSIntExit
 2665               	.global	OSInit
 2666               		.type	OSInit, @function
 2667               	OSInit:
 2668               	/* prologue: function */
 2669               	/* frame size = 0 */
 2670 1110 0E94 0000 		call OSInitHookBegin
 2671 1114 1092 0000 		sts OSIntNesting,__zero_reg__
 2672 1118 1092 0000 		sts OSLockNesting,__zero_reg__
 2673 111c 1092 0000 		sts OSTaskCtr,__zero_reg__
 2674 1120 1092 0000 		sts OSRunning,__zero_reg__
 2675 1124 1092 0000 		sts OSCtxSwCtr,__zero_reg__
 2676 1128 1092 0000 		sts (OSCtxSwCtr)+1,__zero_reg__
 2677 112c 1092 0000 		sts (OSCtxSwCtr)+2,__zero_reg__
 2678 1130 1092 0000 		sts (OSCtxSwCtr)+3,__zero_reg__
 2679 1134 1092 0000 		sts OSIdleCtr,__zero_reg__
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 48


 2680 1138 1092 0000 		sts (OSIdleCtr)+1,__zero_reg__
 2681 113c 1092 0000 		sts (OSIdleCtr)+2,__zero_reg__
 2682 1140 1092 0000 		sts (OSIdleCtr)+3,__zero_reg__
 2683 1144 1092 0000 		sts OSRdyGrp,__zero_reg__
 2684 1148 1092 0000 		sts OSRdyTbl,__zero_reg__
 2685 114c 1092 0000 		sts OSRdyTbl+1,__zero_reg__
 2686 1150 1092 0000 		sts OSPrioCur,__zero_reg__
 2687 1154 1092 0000 		sts OSPrioHighRdy,__zero_reg__
 2688 1158 1092 0000 		sts (OSTCBHighRdy)+1,__zero_reg__
 2689 115c 1092 0000 		sts OSTCBHighRdy,__zero_reg__
 2690 1160 1092 0000 		sts (OSTCBCur)+1,__zero_reg__
 2691 1164 1092 0000 		sts OSTCBCur,__zero_reg__
 2692 1168 1092 0000 		sts (OSTCBList)+1,__zero_reg__
 2693 116c 1092 0000 		sts OSTCBList,__zero_reg__
 2694 1170 E0E0      		ldi r30,lo8(OSTCBPrioTbl)
 2695 1172 F0E0      		ldi r31,hi8(OSTCBPrioTbl)
 2696               	.L244:
 2697 1174 1192      		st Z+,__zero_reg__
 2698 1176 1192      		st Z+,__zero_reg__
 2699 1178 20E0      		ldi r18,hi8(OSTCBPrioTbl+26)
 2700 117a E030      		cpi r30,lo8(OSTCBPrioTbl+26)
 2701 117c F207      		cpc r31,r18
 2702 117e 01F4      		brne .L244
 2703 1180 80E0      		ldi r24,lo8(OSTCBTbl+19)
 2704 1182 90E0      		ldi r25,hi8(OSTCBTbl+19)
 2705               	.L245:
 2706 1184 FC01      		movw r30,r24
 2707 1186 7197      		sbiw r30,17
 2708 1188 9183      		std Z+1,r25
 2709 118a 8083      		st Z,r24
 2710 118c 4396      		adiw r24,19
 2711 118e 20E0      		ldi r18,hi8(OSTCBTbl+247)
 2712 1190 8030      		cpi r24,lo8(OSTCBTbl+247)
 2713 1192 9207      		cpc r25,r18
 2714 1194 01F4      		brne .L245
 2715 1196 1092 0000 		sts (OSTCBTbl+230)+1,__zero_reg__
 2716 119a 1092 0000 		sts OSTCBTbl+230,__zero_reg__
 2717 119e 80E0      		ldi r24,lo8(OSTCBTbl)
 2718 11a0 90E0      		ldi r25,hi8(OSTCBTbl)
 2719 11a2 9093 0000 		sts (OSTCBFreeList)+1,r25
 2720 11a6 8093 0000 		sts OSTCBFreeList,r24
 2721 11aa 20E0      		ldi r18,lo8(OSEventTbl)
 2722 11ac 30E0      		ldi r19,hi8(OSEventTbl)
 2723 11ae F901      		movw r30,r18
 2724               	.L246:
 2725 11b0 CF01      		movw r24,r30
 2726 11b2 0896      		adiw r24,8
 2727 11b4 1082      		st Z,__zero_reg__
 2728 11b6 9583      		std Z+5,r25
 2729 11b8 8483      		std Z+4,r24
 2730 11ba FC01      		movw r30,r24
 2731 11bc 80E0      		ldi r24,hi8(OSEventTbl+32)
 2732 11be E030      		cpi r30,lo8(OSEventTbl+32)
 2733 11c0 F807      		cpc r31,r24
 2734 11c2 01F4      		brne .L246
 2735 11c4 1082      		st Z,__zero_reg__
 2736 11c6 1582      		std Z+5,__zero_reg__
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 49


 2737 11c8 1482      		std Z+4,__zero_reg__
 2738 11ca 3093 0000 		sts (OSEventFreeList)+1,r19
 2739 11ce 2093 0000 		sts OSEventFreeList,r18
 2740 11d2 0E94 0000 		call OS_FlagInit
 2741 11d6 0E94 0000 		call OS_QInit
 2742 11da 80E0      		ldi r24,lo8(gs(OS_TaskIdle))
 2743 11dc 90E0      		ldi r25,hi8(gs(OS_TaskIdle))
 2744 11de 60E0      		ldi r22,lo8(0)
 2745 11e0 70E0      		ldi r23,hi8(0)
 2746 11e2 40E0      		ldi r20,lo8(OSTaskIdleStk+127)
 2747 11e4 50E0      		ldi r21,hi8(OSTaskIdleStk+127)
 2748 11e6 2CE0      		ldi r18,lo8(12)
 2749 11e8 0E94 0000 		call OSTaskCreate
 2750 11ec 80E0      		ldi r24,lo8(gs(OS_TaskStat))
 2751 11ee 90E0      		ldi r25,hi8(gs(OS_TaskStat))
 2752 11f0 60E0      		ldi r22,lo8(0)
 2753 11f2 70E0      		ldi r23,hi8(0)
 2754 11f4 40E0      		ldi r20,lo8(OSTaskStatStk+127)
 2755 11f6 50E0      		ldi r21,hi8(OSTaskStatStk+127)
 2756 11f8 2BE0      		ldi r18,lo8(11)
 2757 11fa 0E94 0000 		call OSTaskCreate
 2758 11fe 0E94 0000 		call OSInitHookEnd
 2759               	/* epilogue start */
 2760 1202 0895      		ret
 2761               		.size	OSInit, .-OSInit
 2762               	.global	OSMapTbl
 2763               		.data
 2764               		.type	OSMapTbl, @object
 2765               		.size	OSMapTbl, 8
 2766               	OSMapTbl:
 2767 0000 01        		.byte	1
 2768 0001 02        		.byte	2
 2769 0002 04        		.byte	4
 2770 0003 08        		.byte	8
 2771 0004 10        		.byte	16
 2772 0005 20        		.byte	32
 2773 0006 40        		.byte	64
 2774 0007 80        		.byte	-128
 2775               	.global	OSUnMapTbl
 2776               		.type	OSUnMapTbl, @object
 2777               		.size	OSUnMapTbl, 256
 2778               	OSUnMapTbl:
 2779 0008 00        		.byte	0
 2780 0009 00        		.byte	0
 2781 000a 01        		.byte	1
 2782 000b 00        		.byte	0
 2783 000c 02        		.byte	2
 2784 000d 00        		.byte	0
 2785 000e 01        		.byte	1
 2786 000f 00        		.byte	0
 2787 0010 03        		.byte	3
 2788 0011 00        		.byte	0
 2789 0012 01        		.byte	1
 2790 0013 00        		.byte	0
 2791 0014 02        		.byte	2
 2792 0015 00        		.byte	0
 2793 0016 01        		.byte	1
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 50


 2794 0017 00        		.byte	0
 2795 0018 04        		.byte	4
 2796 0019 00        		.byte	0
 2797 001a 01        		.byte	1
 2798 001b 00        		.byte	0
 2799 001c 02        		.byte	2
 2800 001d 00        		.byte	0
 2801 001e 01        		.byte	1
 2802 001f 00        		.byte	0
 2803 0020 03        		.byte	3
 2804 0021 00        		.byte	0
 2805 0022 01        		.byte	1
 2806 0023 00        		.byte	0
 2807 0024 02        		.byte	2
 2808 0025 00        		.byte	0
 2809 0026 01        		.byte	1
 2810 0027 00        		.byte	0
 2811 0028 05        		.byte	5
 2812 0029 00        		.byte	0
 2813 002a 01        		.byte	1
 2814 002b 00        		.byte	0
 2815 002c 02        		.byte	2
 2816 002d 00        		.byte	0
 2817 002e 01        		.byte	1
 2818 002f 00        		.byte	0
 2819 0030 03        		.byte	3
 2820 0031 00        		.byte	0
 2821 0032 01        		.byte	1
 2822 0033 00        		.byte	0
 2823 0034 02        		.byte	2
 2824 0035 00        		.byte	0
 2825 0036 01        		.byte	1
 2826 0037 00        		.byte	0
 2827 0038 04        		.byte	4
 2828 0039 00        		.byte	0
 2829 003a 01        		.byte	1
 2830 003b 00        		.byte	0
 2831 003c 02        		.byte	2
 2832 003d 00        		.byte	0
 2833 003e 01        		.byte	1
 2834 003f 00        		.byte	0
 2835 0040 03        		.byte	3
 2836 0041 00        		.byte	0
 2837 0042 01        		.byte	1
 2838 0043 00        		.byte	0
 2839 0044 02        		.byte	2
 2840 0045 00        		.byte	0
 2841 0046 01        		.byte	1
 2842 0047 00        		.byte	0
 2843 0048 06        		.byte	6
 2844 0049 00        		.byte	0
 2845 004a 01        		.byte	1
 2846 004b 00        		.byte	0
 2847 004c 02        		.byte	2
 2848 004d 00        		.byte	0
 2849 004e 01        		.byte	1
 2850 004f 00        		.byte	0
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 51


 2851 0050 03        		.byte	3
 2852 0051 00        		.byte	0
 2853 0052 01        		.byte	1
 2854 0053 00        		.byte	0
 2855 0054 02        		.byte	2
 2856 0055 00        		.byte	0
 2857 0056 01        		.byte	1
 2858 0057 00        		.byte	0
 2859 0058 04        		.byte	4
 2860 0059 00        		.byte	0
 2861 005a 01        		.byte	1
 2862 005b 00        		.byte	0
 2863 005c 02        		.byte	2
 2864 005d 00        		.byte	0
 2865 005e 01        		.byte	1
 2866 005f 00        		.byte	0
 2867 0060 03        		.byte	3
 2868 0061 00        		.byte	0
 2869 0062 01        		.byte	1
 2870 0063 00        		.byte	0
 2871 0064 02        		.byte	2
 2872 0065 00        		.byte	0
 2873 0066 01        		.byte	1
 2874 0067 00        		.byte	0
 2875 0068 05        		.byte	5
 2876 0069 00        		.byte	0
 2877 006a 01        		.byte	1
 2878 006b 00        		.byte	0
 2879 006c 02        		.byte	2
 2880 006d 00        		.byte	0
 2881 006e 01        		.byte	1
 2882 006f 00        		.byte	0
 2883 0070 03        		.byte	3
 2884 0071 00        		.byte	0
 2885 0072 01        		.byte	1
 2886 0073 00        		.byte	0
 2887 0074 02        		.byte	2
 2888 0075 00        		.byte	0
 2889 0076 01        		.byte	1
 2890 0077 00        		.byte	0
 2891 0078 04        		.byte	4
 2892 0079 00        		.byte	0
 2893 007a 01        		.byte	1
 2894 007b 00        		.byte	0
 2895 007c 02        		.byte	2
 2896 007d 00        		.byte	0
 2897 007e 01        		.byte	1
 2898 007f 00        		.byte	0
 2899 0080 03        		.byte	3
 2900 0081 00        		.byte	0
 2901 0082 01        		.byte	1
 2902 0083 00        		.byte	0
 2903 0084 02        		.byte	2
 2904 0085 00        		.byte	0
 2905 0086 01        		.byte	1
 2906 0087 00        		.byte	0
 2907 0088 07        		.byte	7
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 52


 2908 0089 00        		.byte	0
 2909 008a 01        		.byte	1
 2910 008b 00        		.byte	0
 2911 008c 02        		.byte	2
 2912 008d 00        		.byte	0
 2913 008e 01        		.byte	1
 2914 008f 00        		.byte	0
 2915 0090 03        		.byte	3
 2916 0091 00        		.byte	0
 2917 0092 01        		.byte	1
 2918 0093 00        		.byte	0
 2919 0094 02        		.byte	2
 2920 0095 00        		.byte	0
 2921 0096 01        		.byte	1
 2922 0097 00        		.byte	0
 2923 0098 04        		.byte	4
 2924 0099 00        		.byte	0
 2925 009a 01        		.byte	1
 2926 009b 00        		.byte	0
 2927 009c 02        		.byte	2
 2928 009d 00        		.byte	0
 2929 009e 01        		.byte	1
 2930 009f 00        		.byte	0
 2931 00a0 03        		.byte	3
 2932 00a1 00        		.byte	0
 2933 00a2 01        		.byte	1
 2934 00a3 00        		.byte	0
 2935 00a4 02        		.byte	2
 2936 00a5 00        		.byte	0
 2937 00a6 01        		.byte	1
 2938 00a7 00        		.byte	0
 2939 00a8 05        		.byte	5
 2940 00a9 00        		.byte	0
 2941 00aa 01        		.byte	1
 2942 00ab 00        		.byte	0
 2943 00ac 02        		.byte	2
 2944 00ad 00        		.byte	0
 2945 00ae 01        		.byte	1
 2946 00af 00        		.byte	0
 2947 00b0 03        		.byte	3
 2948 00b1 00        		.byte	0
 2949 00b2 01        		.byte	1
 2950 00b3 00        		.byte	0
 2951 00b4 02        		.byte	2
 2952 00b5 00        		.byte	0
 2953 00b6 01        		.byte	1
 2954 00b7 00        		.byte	0
 2955 00b8 04        		.byte	4
 2956 00b9 00        		.byte	0
 2957 00ba 01        		.byte	1
 2958 00bb 00        		.byte	0
 2959 00bc 02        		.byte	2
 2960 00bd 00        		.byte	0
 2961 00be 01        		.byte	1
 2962 00bf 00        		.byte	0
 2963 00c0 03        		.byte	3
 2964 00c1 00        		.byte	0
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 53


 2965 00c2 01        		.byte	1
 2966 00c3 00        		.byte	0
 2967 00c4 02        		.byte	2
 2968 00c5 00        		.byte	0
 2969 00c6 01        		.byte	1
 2970 00c7 00        		.byte	0
 2971 00c8 06        		.byte	6
 2972 00c9 00        		.byte	0
 2973 00ca 01        		.byte	1
 2974 00cb 00        		.byte	0
 2975 00cc 02        		.byte	2
 2976 00cd 00        		.byte	0
 2977 00ce 01        		.byte	1
 2978 00cf 00        		.byte	0
 2979 00d0 03        		.byte	3
 2980 00d1 00        		.byte	0
 2981 00d2 01        		.byte	1
 2982 00d3 00        		.byte	0
 2983 00d4 02        		.byte	2
 2984 00d5 00        		.byte	0
 2985 00d6 01        		.byte	1
 2986 00d7 00        		.byte	0
 2987 00d8 04        		.byte	4
 2988 00d9 00        		.byte	0
 2989 00da 01        		.byte	1
 2990 00db 00        		.byte	0
 2991 00dc 02        		.byte	2
 2992 00dd 00        		.byte	0
 2993 00de 01        		.byte	1
 2994 00df 00        		.byte	0
 2995 00e0 03        		.byte	3
 2996 00e1 00        		.byte	0
 2997 00e2 01        		.byte	1
 2998 00e3 00        		.byte	0
 2999 00e4 02        		.byte	2
 3000 00e5 00        		.byte	0
 3001 00e6 01        		.byte	1
 3002 00e7 00        		.byte	0
 3003 00e8 05        		.byte	5
 3004 00e9 00        		.byte	0
 3005 00ea 01        		.byte	1
 3006 00eb 00        		.byte	0
 3007 00ec 02        		.byte	2
 3008 00ed 00        		.byte	0
 3009 00ee 01        		.byte	1
 3010 00ef 00        		.byte	0
 3011 00f0 03        		.byte	3
 3012 00f1 00        		.byte	0
 3013 00f2 01        		.byte	1
 3014 00f3 00        		.byte	0
 3015 00f4 02        		.byte	2
 3016 00f5 00        		.byte	0
 3017 00f6 01        		.byte	1
 3018 00f7 00        		.byte	0
 3019 00f8 04        		.byte	4
 3020 00f9 00        		.byte	0
 3021 00fa 01        		.byte	1
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 54


 3022 00fb 00        		.byte	0
 3023 00fc 02        		.byte	2
 3024 00fd 00        		.byte	0
 3025 00fe 01        		.byte	1
 3026 00ff 00        		.byte	0
 3027 0100 03        		.byte	3
 3028 0101 00        		.byte	0
 3029 0102 01        		.byte	1
 3030 0103 00        		.byte	0
 3031 0104 02        		.byte	2
 3032 0105 00        		.byte	0
 3033 0106 01        		.byte	1
 3034 0107 00        		.byte	0
 3035               		.comm OSCtxSwCtr,4,1
 3036               		.comm OSEventFreeList,2,1
 3037               		.comm OSEventTbl,40,1
 3038               		.comm OSFlagTbl,20,1
 3039               		.comm OSFlagFreeList,2,1
 3040               		.comm OSCPUUsage,1,1
 3041               		.comm OSIdleCtrMax,4,1
 3042               		.comm OSIdleCtrRun,4,1
 3043               		.comm OSStatRdy,1,1
 3044               		.comm OSTaskStatStk,128,1
 3045               		.comm OSIntNesting,1,1
 3046               		.comm OSIntExitY,1,1
 3047               		.comm OSLockNesting,1,1
 3048               		.comm OSPrioCur,1,1
 3049               		.comm OSPrioHighRdy,1,1
 3050               		.comm OSRdyGrp,1,1
 3051               		.comm OSRdyTbl,2,1
 3052               		.comm OSRunning,1,1
 3053               		.comm OSTaskCtr,1,1
 3054               		.comm OSIdleCtr,4,1
 3055               		.comm OSTaskIdleStk,128,1
 3056               		.comm OSTCBCur,2,1
 3057               		.comm OSTCBFreeList,2,1
 3058               		.comm OSTCBHighRdy,2,1
 3059               		.comm OSTCBList,2,1
 3060               		.comm OSTCBPrioTbl,26,1
 3061               		.comm OSTCBTbl,247,1
 3062               		.comm OSQFreeList,2,1
 3063               		.comm OSQTbl,42,1
 3064               	.global __do_copy_data
 3065               	.global __do_clear_bss
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 55


DEFINED SYMBOLS
                            *ABS*:00000000 ucos_ii.c
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:2      *ABS*:0000003f __SREG__
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:3      *ABS*:0000003e __SP_H__
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:4      *ABS*:0000003d __SP_L__
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:5      *ABS*:00000034 __CCP__
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:7      *ABS*:00000001 __zero_reg__
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:11     .text:00000000 OSIntEnter
                            *COM*:00000001 OSRunning
                            *COM*:00000001 OSIntNesting
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:29     .text:0000001a OSSchedLock
                            *COM*:00000001 OSLockNesting
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:57     .text:00000038 OSVersion
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:67     .text:0000003e OS_EventTaskRdy
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:2778   .data:00000008 OSUnMapTbl
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:2766   .data:00000000 OSMapTbl
                            *COM*:0000001a OSTCBPrioTbl
                            *COM*:00000001 OSRdyGrp
                            *COM*:00000002 OSRdyTbl
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:165    .text:000000f4 OS_EventTaskWait
                            *COM*:00000002 OSTCBCur
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:223    .text:0000015e OS_EventTO
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:268    .text:000001ac OS_EventWaitListInit
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:280    .text:000001b6 OSFlagCreate
                            *COM*:00000002 OSFlagFreeList
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:334    .text:00000202 OS_FlagBlock
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:415    .text:0000029a OS_FlagInit
                            *COM*:00000014 OSFlagTbl
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:441    .text:000002c2 OS_FlagUnlink
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:480    .text:00000300 OS_FlagTaskRdy
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:543    .text:00000376 OSMboxCreate
                            *COM*:00000002 OSEventFreeList
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:592    .text:000003be OSQCreate
                            *COM*:00000002 OSQFreeList
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:702    .text:00000476 OS_QInit
                            *COM*:0000002a OSQTbl
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:722    .text:000004a0 OSSemCreate
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:771    .text:000004e8 OS_TCBInit
                            *COM*:00000002 OSTCBFreeList
                            *COM*:00000002 OSTCBList
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:892    .text:000005b8 OS_TaskIdle
                            *COM*:00000004 OSIdleCtr
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:922    .text:000005e8 OS_Sched
                            *COM*:00000001 OSPrioHighRdy
                            *COM*:00000001 OSPrioCur
                            *COM*:00000002 OSTCBHighRdy
                            *COM*:00000004 OSCtxSwCtr
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:993    .text:00000676 OSTimeDly
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:1044   .text:000006c6 OSTimeDlyHMSM
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:1198   .text:000007e8 OS_TaskStat
                            *COM*:00000001 OSStatRdy
                            *COM*:00000004 OSIdleCtrMax
                            *COM*:00000001 OSCPUUsage
                            *COM*:00000004 OSIdleCtrRun
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:1300   .text:000008d2 OSStatInit
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:1348   .text:00000922 OSTaskCreate
GAS LISTING C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s 			page 56


                            *COM*:00000001 OSTaskCtr
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:1464   .text:000009ca OSSemPost
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:1517   .text:00000a08 OSSemPend
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:1619   .text:00000a9e OSQPost
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:1708   .text:00000b20 OSQPend
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:1856   .text:00000c0e OSMboxPost
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:1904   .text:00000c42 OSMboxPend
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:2009   .text:00000cde OSFlagPost
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:2165   .text:00000dcc OSFlagPend
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:2407   .text:00000f46 OSSchedUnlock
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:2455   .text:00000f7c OSTimeTick
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:2543   .text:00001010 OSStart
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:2586   .text:0000106a OSIntExit
                            *COM*:00000001 OSIntExitY
C:\Users\Á¤¹Î±³\AppData\Local\Temp/cc8uYXsS.s:2667   .text:00001110 OSInit
                            *COM*:000000f7 OSTCBTbl
                            *COM*:00000028 OSEventTbl
                            *COM*:00000080 OSTaskIdleStk
                            *COM*:00000080 OSTaskStatStk

UNDEFINED SYMBOLS
OSTCBInitHook
OSTaskCreateHook
OSTaskIdleHook
OSCtxSw
__mulsi3
__udivmodsi4
OSTaskStatHook
OSTaskStkInit
OSTimeTickHook
OSStartHighRdy
OSIntCtxSw
OSInitHookBegin
OSInitHookEnd
__do_copy_data
__do_clear_bss
